{"version":3,"file":"js/340.822184bc.js","mappings":"4wBA4EA,MAAMA,GAAkBC,EAAAA,EAAAA,IAAI,IACtBC,GAAiBD,EAAAA,EAAAA,IAAI,IACrBE,GAAQF,EAAAA,EAAAA,IAAI,IACZG,GAAMH,EAAAA,EAAAA,IAAI,IACVI,EAAU,CACd,CACEF,MAAO,IACPG,MAAO,WAET,CACEH,MAAO,IACPG,MAAO,QAET,CACEH,MAAO,IACPG,MAAO,WAET,CACEH,MAAO,IACPG,MAAO,WAET,CACEH,MAAO,IACPG,MAAO,UAGX,SAASC,EAAYC,GACnB,IAAIC,EAAO,IAAIC,KAAKF,GAChBG,EAAKF,EAAKG,cAAgB,IAC1BC,GACCJ,EAAKK,WAAa,EAAI,GACjB,KAAOL,EAAKK,WAAa,GACzBL,EAAKK,WAAa,GAAK,IAC7BC,EAAKN,EAAKO,UAAY,GAAK,IAAMP,EAAKO,UAAYP,EAAKO,UACvDC,GACCR,EAAKS,WAAa,GAAK,IAAMT,EAAKS,WAAaT,EAAKS,YAAc,IACnEC,GACCV,EAAKW,aAAe,GAAK,IAAMX,EAAKW,aAAeX,EAAKW,cACzD,IACAC,EACAZ,EAAKa,aAAe,GAAK,IAAMb,EAAKa,aAAeb,EAAKa,aAC5D,OAAOX,EAAKE,EAAKE,EAAK,IAAME,EAAKE,EAAKE,CACxC,CACA,IAAIE,GAAStB,EAAAA,EAAAA,IAAI,IACbuB,GAASvB,EAAAA,EAAAA,IAAI,IAKjB,MAAMwB,EAAcC,UAClBH,EAASvB,EAAgBG,MAAMwB,GAAG,GAAG,IAAI3B,EAAgBG,MAAMwB,GAAG,GAClEH,EAAStB,EAAeC,MAAMwB,GAAG,GAAG,IAAIzB,EAAeC,MAAMwB,GAAG,GAChEC,QAAQC,IAAIN,GACZK,QAAQC,IAAIL,GACZI,QAAQC,IAAI1B,EAAMA,OAClByB,QAAQC,IAAItB,EAAWuB,EAAU3B,QACjCyB,QAAQC,IAAItB,EAAWwB,EAAQ5B,QAC/ByB,QAAQC,IAAIG,EAAQ7B,OACpByB,QAAQC,IAAII,EAAQ9B,OACpByB,QAAQC,IAAIzB,EAAID,OAChB,IAAI+B,EAAW/B,EAAMA,MAAQC,EAAID,MAC7BgC,EAAM,CACR,UAAa5B,EAAWuB,EAAU3B,OAClC,QAAWI,EAAWwB,EAAQ5B,OAC9B,UAAaoB,EACb,QAAWC,EACX,OAAUQ,EAAQ7B,MAClB,OAAU8B,EAAQ9B,MAClB,QAAW+B,GAEbN,QAAQC,IAAIO,KAAKC,UAAUF,UACrBG,EAAAA,GAAAA,KAAiB,eAAeH,GAAKI,MAAKC,IAC9CZ,QAAQC,IAAI,QAAQ,IACnBU,MAAKC,KACNC,EAAAA,EAAAA,IACI,CACEC,QAAS,UACTC,KAAM,WAEX,GACD,EAEEb,GAAY7B,EAAAA,EAAAA,IAAI,IAChB8B,GAAU9B,EAAAA,EAAAA,IAAI,IACd2C,EAAc,IAAIlC,KAAK,IAAM,EAAG,EAAG,GAAI,EAAG,GAC1CsB,GAAU/B,EAAAA,EAAAA,IAAI,GACdgC,GAAUhC,EAAAA,EAAAA,IAAI,GAIT,IAAIS,K,o6DChKf,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue/./src/views/manager/CreateTrip.vue","webpack://vue/./src/views/manager/CreateTrip.vue?aea1"],"sourcesContent":["<template>\r\n  <div id=\"app\" class=\"container\">\r\n    <div class=\"component\">\r\n      出发地\r\n      <el-cascader\r\n          size=\"large\"\r\n          :options=\"pcTextArr\"\r\n          v-model=\"departureOption\">\r\n      </el-cascader>\r\n    </div>\r\n    <div class=\"component\">\r\n      目的地\r\n      <el-cascader\r\n          size=\"large\"\r\n          :options=\"pcTextArr\"\r\n          v-model=\"selectedOption\">\r\n      </el-cascader>\r\n    </div>\r\n    <div class=\"component\">\r\n      选择车型\r\n      <el-select\r\n          v-model=\"value\"\r\n          placeholder=\"请选择车型\"\r\n          size=\"large\"\r\n          style=\"width: 200px\"\r\n      >\r\n        <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        />\r\n      </el-select>\r\n    </div>\r\n    <div class=\"component\">列车编号：\r\n      <el-input v-model=\"num\" style=\"width: 200px\" placeholder=\"请输入列车编号\" />\r\n\r\n    </div>\r\n    <div class=\"component\">\r\n      <span class=\"demonstration\">发车时间</span>\r\n      <el-date-picker\r\n          v-model=\"startTime\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择发车时间\"\r\n          :default-time=\"defaultTime\"\r\n      />\r\n    </div>\r\n    <div class=\"component\">\r\n      <span class=\"demonstration\">到达时间</span>\r\n      <el-date-picker\r\n          v-model=\"endTime\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择到达时间\"\r\n          :default-time=\"defaultTime\"\r\n      />\r\n    </div>\r\n    <div class=\"component\">\r\n      <span class=\"demonstration\">列车车厢数</span>\r\n      <el-input-number v-model=\"num_car\" :min=\"1\" :max=\"10\"/>\r\n    </div>\r\n    <div class=\"component\">\r\n      <span class=\"demonstration\">每车厢排数</span>\r\n      <el-input-number v-model=\"num_row\" :min=\"1\" :max=\"10\"  />\r\n    </div>\r\n    <div class=\"button-container\">\r\n      <el-button type=\"primary\" @click=\"createTrips\">创建</el-button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport {pcTextArr} from 'element-china-area-data'\r\nimport {ref, watch} from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport requestUtil from '@/util/request'\r\nimport {ElMessage} from \"element-plus\";\r\nconst departureOption = ref([])\r\nconst selectedOption = ref([])\r\nconst value = ref('')\r\nconst num = ref('')\r\nconst options = [\r\n  {\r\n    value: 'C',\r\n    label: '城际快速列车C',\r\n  },\r\n  {\r\n    value: 'D',\r\n    label: '动车组D',\r\n  },\r\n  {\r\n    value: 'Z',\r\n    label: '直达特快列车Z',\r\n  },\r\n  {\r\n    value: 'K',\r\n    label: '跨局快速列车K',\r\n  },\r\n  {\r\n    value: 'G',\r\n    label: '高速列车G',\r\n  },\r\n]\r\nfunction formatDate (d) {\r\n  var date = new Date(d);\r\n  var YY = date.getFullYear() + '-';\r\n  var MM =\r\n      (date.getMonth() + 1 < 10\r\n          ? '0' + (date.getMonth() + 1)\r\n          : date.getMonth() + 1) + '-';\r\n  var DD = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n  var hh =\r\n      (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n  var mm =\r\n      (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +\r\n      ':';\r\n  var ss =\r\n      date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n  return YY + MM + DD + ' ' + hh + mm + ss;\r\n}\r\nlet dplace = ref('')\r\nlet splace = ref('')\r\nfunction date (date) {\r\n  let result = new Date(date).getTime();\r\n  return result;\r\n}\r\nconst createTrips = async () => {\r\n  dplace = departureOption.value.at(0)+'/'+departureOption.value.at(1);\r\n  splace = selectedOption.value.at(0)+'/'+selectedOption.value.at(1);\r\n  console.log(dplace);\r\n  console.log(splace);\r\n  console.log(value.value);\r\n  console.log(formatDate(startTime.value));\r\n  console.log(formatDate(endTime.value));\r\n  console.log(num_car.value);\r\n  console.log(num_row.value);\r\n  console.log(num.value);\r\n  let train_id = value.value + num.value;\r\n  let par = {\r\n    \"startTime\": formatDate(startTime.value),\r\n    \"endTime\": formatDate(endTime.value),\r\n    \"fromPlace\": dplace,\r\n    \"toPlace\": splace,\r\n    \"numCar\": num_car.value,\r\n    \"numRow\": num_row.value,\r\n    \"trainId\": train_id\r\n  };\r\n  console.log(JSON.stringify(par));\r\n  await requestUtil.post('/trip/create',par).then(response => {\r\n    console.log(\"创建成功！\")\r\n  });then(response => {\r\n    ElMessage(\r\n        {\r\n          message: \"车次创建成功！\",\r\n          type: \"success\"\r\n        }\r\n    )\r\n  })\r\n}\r\nconst startTime = ref('')\r\nconst endTime = ref('')\r\nconst defaultTime = new Date(2000, 1, 1, 12, 0, 0)\r\nconst num_car = ref(1)\r\nconst num_row = ref(1)\r\nconst shortcuts = [\r\n  {\r\n    text: '今天',\r\n    value: new Date(),\r\n  },\r\n  {\r\n    text: '昨天',\r\n    value: () => {\r\n      const date = new Date()\r\n      date.setDate(date.getDate() - 1)\r\n      return date\r\n    },\r\n  },\r\n  {\r\n    text: '一周前',\r\n    value: () => {\r\n      const date = new Date()\r\n      date.setDate(date.getDate() - 7)\r\n      return date\r\n    },\r\n  },\r\n]\r\n</script>\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  flex-direction: column; /* 设置主轴方向为纵向，实现垂直布局 */\r\n}\r\n\r\n.component {\r\n  margin-bottom: 20px; /* 设置组件之间的垂直间距为20px */\r\n}\r\n</style>","import script from \"./CreateTrip.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CreateTrip.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CreateTrip.vue?vue&type=style&index=0&id=895aa452&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-895aa452\"]])\n\nexport default __exports__"],"names":["departureOption","ref","selectedOption","value","num","options","label","formatDate","d","date","Date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","dplace","splace","createTrips","async","at","console","log","startTime","endTime","num_car","num_row","train_id","par","JSON","stringify","requestUtil","then","response","ElMessage","message","type","defaultTime","__exports__"],"sourceRoot":""}