{"version":3,"file":"js/390.928ded21.js","mappings":"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","sources":["webpack://vue/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue/./src/util/cookie.js","webpack://vue/./src/views/NoOrder.vue","webpack://vue/./src/views/NoOrder.vue?8676","webpack://vue/./src/views/user/NotDeparture.vue","webpack://vue/./src/views/user/NotDeparture.vue?2b09"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","export function setCookie(name, value, days) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    const expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\r\n}\r\n/*\r\n设置cookie\r\n */\r\nexport function getCookie(name) {\r\n    const cookieName = name + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    for (let i = 0; i < cookieArray.length; i++) {\r\n        let cookie = cookieArray[i];\r\n        while (cookie.charAt(0) === ' ') {\r\n            cookie = cookie.substring(1);\r\n        }\r\n        if (cookie.indexOf(cookieName) === 0) {\r\n            return cookie.substring(cookieName.length, cookie.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n/*\r\n获取cookie\r\n */\r\nexport function deleteCookie(cookieName) {\r\n    document.cookie = cookieName + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';\r\n}\r\nexport function getCookieNum(){\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    return cookieArray.length;\r\n}\r\nexport default {\r\n    setCookie,getCookie,getCookieNum,deleteCookie\r\n}","<script>\r\nexport default {\r\n  name: \"NoOrder\"\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container\">\r\n    <div class=\"top-section\">\r\n      <div class=\"blue-box\">\r\n        <div style=\"display: flex; flex-direction: row\">\r\n          <img src=\"../assets/images/empty.png\" alt=\"暂无\"/>\r\n          <p class=\"character\">您没有未完成的订单哦～<br>\r\n            您可以通过<el-link type=\"primary\" style=\"font-size: 20px\">车票预订</el-link>功能，来制定出行计划。</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"spacer\"></div>\r\n    <div class=\"bottom-section\">\r\n      <div class=\"yellow-box\">\r\n        <p class=\"character\" >温馨提示:<br>\r\n          1.席位已锁定，请在指定时间内完成网上支付。\r\n          <br>\r\n          2.逾期未支付，系统将取消本次交易。\r\n          <br>\r\n          3.在完成支付或取消本订单之前，您将无法购买其他车票。\r\n          <br>\r\n          4.未尽事宜详见《国铁集团铁路旅客运输规程》《广深港高速铁路跨境旅客运输组织规则》《中老铁路跨境旅客联运组织规则》等有关规定和车站公告。\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.spacer {\r\n  flex: 0.1;\r\n}\r\n.container {\r\n  width: 100%; /* 调整容器宽度 */\r\n  height: 700px; /* 调整容器高度 */\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.top-section {\r\n  flex: 7; /* 占据上面70%的空间 */\r\n}\r\n\r\n.bottom-section {\r\n  flex: 3; /* 占据下面30%的空间 */\r\n}\r\n\r\n.blue-box {\r\n  border-radius: 10px; /* 设置圆角 */\r\n  border: 2px solid lightblue; /* 设置外框 */\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.yellow-box {\r\n  display: flex; /* 使用 flexbox 布局 */\r\n  justify-content: center; /* 水平居中 */\r\n  align-items: center; /* 垂直居中 */\r\n  background-color: lightyellow;\r\n  border-radius: 20px; /* 设置圆角 */\r\n  border: 2px solid orange; /* 设置外框 */\r\n  width: 100%;\r\n  padding: 10px;\r\n  height: 100%;\r\n}\r\n\r\n.character {\r\n  font-weight: lighter;\r\n  font-size: 20px;\r\n\r\n}\r\n</style>","import { render } from \"./NoOrder.vue?vue&type=template&id=4acd47db&scoped=true\"\nimport script from \"./NoOrder.vue?vue&type=script&lang=js\"\nexport * from \"./NoOrder.vue?vue&type=script&lang=js\"\n\nimport \"./NoOrder.vue?vue&type=style&index=0&id=4acd47db&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4acd47db\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"common-layout\">\r\n    <el-container>\r\n      <el-header>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"6\">\r\n            <el-select\r\n                v-model=\"value1\"\r\n                size=\"large\"\r\n                placeholder=\"选择查询方式\"\r\n                style=\"width: 240px\"\r\n            >\r\n              <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n              />\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-date-picker\r\n                v-model=\"value2\"\r\n                type=\"datetime\"\r\n                placeholder=\"请选择起始日期\"\r\n                :shortcuts=\"shortcuts\"\r\n            />\r\n          </el-col>\r\n          <!--    <el-col :span=\"6\">-->\r\n          <!--      <el-date-picker-->\r\n          <!--          v-model=\"value3\"-->\r\n          <!--          type=\"datetime\"-->\r\n          <!--          placeholder=\"请选择出发日期\"-->\r\n          <!--          :shortcuts=\"shortcuts\"-->\r\n          <!--      />-->\r\n          <!--    </el-col>-->\r\n          <el-col :span=\"6\">\r\n            <el-button type=\"primary\" plain @click=\"searchOrders\">查询</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-header>\r\n      <el-main>\r\n        <div v-if=\"orders.length > 0\" v-for=\"order in orders\" :key=\"order.order_id\">\r\n          <el-card class=\"trip-card\">\r\n            <template #header>\r\n              <div class=\"card-header\">\r\n                <span><b>行程信息</b></span>\r\n              </div>\r\n            </template>\r\n            <div class=\"trip-info\">\r\n              <div><b>车次：{{ order.trip.train_id }}</b></div>\r\n              <div><b>起始站：{{ order.trip.from_place }}</b></div>\r\n              <div><b>终点站：{{ order.trip.to_place }}</b></div>\r\n              <div><b>发车时间：{{ order.trip.start_time }}</b></div>\r\n              <div><b>座位：{{ order.row }} 排 {{ order.seat }} 座</b></div>\r\n            </div>\r\n            <template #footer>\r\n              <el-button>查看订单</el-button>\r\n              <el-button type=\"primary\" plain @click=\"showDetailedOrder\">修改订单</el-button>\r\n              <el-button v-if=\"order.state !== 'canceled'\" type=\"danger\" plain @click=\"openCancelDialog\">取消订单</el-button>\r\n              <el-button v-else type=\"danger\" plain disabled>订单已被取消</el-button>\r\n              <el-dialog\r\n                  v-if=\"dialogVisible\"\r\n                  :visible.sync=\"dialogVisible\"\r\n                  title=\"取消订单\"\r\n                  width=\"500\"\r\n              >\r\n                <span>您确定要取消该订单吗？</span>\r\n                <template #footer>\r\n                  <div class=\"dialog-footer\">\r\n                    <el-button @click=\"closeCancelDialog\">返回</el-button>\r\n                    <el-button type=\"primary\" @click=\"cancelOrder(order)\">\r\n                      残忍取消\r\n                    </el-button>\r\n                  </div>\r\n                </template>\r\n              </el-dialog>\r\n            </template>\r\n          </el-card>\r\n        </div>\r\n        <div v-if=\"flag === 1\" class=\"no-trip-card\">\r\n          <NoOrder/>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref, watch} from 'vue'\r\nimport requestUtil from \"@/util/request\";\r\nimport cookieUtil from \"@/util/cookie\"\r\nimport NoOrder from \"@/views/NoOrder.vue\";\r\nconst value1 = ref('')\r\nconst value2 = ref('')\r\nconst value3 = ref('')\r\nconst value = ref('')\r\nconst orders = ref([])\r\nconst options = [\r\n  {\r\n    value: 'orderTime',\r\n    label: '按订单日期查询'\r\n  },{\r\n    value: 'startTime',\r\n    label: '按发车时间查询'\r\n  }\r\n]\r\n\r\nlet Date1= 'Tue May 14 2024 11:24:55 GMT+0800 (中国标准时间)';\r\nlet Date2= '2021-08-15';\r\nlet Date3= '2021-08-15 09:15:00';\r\nlet Date4 = '2024-06-25 00:00:00'\r\nlet flag = 0;\r\n//实现方法\r\nfunction date (date) {\r\n  let result = new Date(date).getTime();\r\n  return result;\r\n}\r\nfunction formatDate (d) {\r\n  var date = new Date(d);\r\n  var YY = date.getFullYear() + '-';\r\n  var MM =\r\n      (date.getMonth() + 1 < 10\r\n          ? '0' + (date.getMonth() + 1)\r\n          : date.getMonth() + 1) + '-';\r\n  var DD = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n  var hh =\r\n      (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n  var mm =\r\n      (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +\r\n      ':';\r\n  var ss =\r\n      date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n  return YY + MM + DD + ' ' + hh + mm + ss;\r\n}\r\nconst searchOrders =  async () => {\r\n  console.log(value1.value)\r\n  const params = {};\r\n  params[value1.value] = formatDate(value2.value); // 将key参数添加到params对象中\r\n  const userId = cookieUtil.getCookie(\"userId\");\r\n  console.log(formatDate(value2.value))\r\n  try {\r\n    const results = await requestUtil.get(`/order/select/notdeparture/${userId}/orderTime`, params); // 将params对象作为第二个参数传递给get方法\r\n    orders.value = results.data;\r\n    console.log(orders.value.length);\r\n    if(orders.value.length === 0) {\r\n      flag = 1;\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\nconst defaultTime = new Date(2000, 1, 1, 12, 0, 0)\r\nconst shortcuts = [\r\n  {\r\n    text: '今天',\r\n    value: new Date(),\r\n  },\r\n  {\r\n    text: '昨天',\r\n    value: () => {\r\n      const date = new Date()\r\n      date.setDate(date.getDate() - 1)\r\n      return date\r\n    },\r\n  },\r\n  {\r\n    text: '一周前',\r\n    value: () => {\r\n      const date = new Date()\r\n      date.setDate(date.getDate() - 7)\r\n      return date\r\n    },\r\n  },\r\n]\r\n</script>\r\n","import script from \"./NotDeparture.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NotDeparture.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","setCookie","name","value","days","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","cookieName","decodedCookie","decodeURIComponent","cookieArray","split","i","length","charAt","substring","indexOf","deleteCookie","getCookieNum","class","style","_createElementVNode","src","_imports_0","alt","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_component_el_link","type","default","_withCtx","_","_hoisted_8","_hoisted_9","__exports__","render","value1","ref","value2","orders","options","label","flag","formatDate","date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","searchOrders","async","console","log","params","userId","cookieUtil","results","requestUtil","data","error","shortcuts","text","setDate"],"sourceRoot":""}