"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[854],{1241:function(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a}},7488:function(e,t,a){function l(e,t,a){const l=new Date;l.setTime(l.getTime()+24*a*60*60*1e3);const o="expires="+l.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}function o(e){const t=e+"=",a=decodeURIComponent(document.cookie),l=a.split(";");for(let o=0;o<l.length;o++){let e=l[o];while(" "===e.charAt(0))e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""}function s(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}function n(){const e=decodeURIComponent(document.cookie),t=e.split(";");return t.length}t.Ay={setCookie:l,getCookie:o,getCookieNum:n,deleteCookie:s}},2854:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});a(4114);var l=a(6768),o=a(4232),s=a(144),n=a(5130),i=a(8073),r=a(7488),c=a(1387),d=a(9325);const u=e=>((0,l.Qi)("data-v-4d863ce6"),e=e(),(0,l.jt)(),e),p={class:"home-box"},m={class:"hotel-detail-page"},v={class:"hotel-name"},f={class:"hotel-image-and-rate"},k={class:"hotel-class"},g={class:"rate-number"},h=u((()=>(0,l.Lk)("span",{class:"rate-number-fen"},"分",-1))),y={class:"hotel-description"},b={class:"date-selector"},_=u((()=>(0,l.Lk)("span",{class:"demonstration"},"从",-1))),L=u((()=>(0,l.Lk)("span",{class:"demonstration"},"到",-1))),w={style:{"margin-left":"3%",color:"red"}},C={class:"room-select"},F=u((()=>(0,l.Lk)("div",{class:"room-select-name"}," 房型选择 ",-1))),D={class:"room-list",style:{overflow:"auto"}},R={class:"list-room-item"},I={class:"room-card"},A={class:"room-info"},x={style:{color:"white","font-family":"微软雅黑","font-size":"24px","margin-bottom":"2%"}},K={style:{color:"#adb1b9","font-family":"微软雅黑","font-size":"16px","margin-bottom":"2%","line-height":"24px"}},T={class:"capable"},Y={class:"price"},E=u((()=>(0,l.Lk)("span",{style:{"font-size":"14px"}},"￥",-1))),V={class:"price-details"};var U={__name:"HotelDetails",emits:["sort-change","view-details"],setup(e,{emit:t}){(0,s.KR)("");const u=new Date(2e3,1,1,12,0,0),U=(0,s.KR)("2024-06-09"),M=(0,s.KR)("2024-06-10"),z=(0,s.KR)({image:a(2966),rating:4.9,name:"北京第十四酒店",description:"北京第十四家酒店，不是北京第四十号酒店，也不是北京第四十四号酒店。",price:329.15}),O=(0,c.lq)(),q=(0,s.KR)(O.query.hotel_id),G=(0,s.KR)([]);(0,l.sV)((async()=>{const e=await i.Ay.get("/hotels/"+q.value);z.value=e.data;const t=await i.Ay.post("/hotels/hotel/getRoom",{hotelId:q.value,startDate:U.value,endDate:M.value});G.value=t.data}));(0,s.KR)(300);const W=async()=>{const e=await i.Ay.post("/hotels/hotel/getRoom",{hotelId:q.value,startDate:U.value,endDate:M.value});G.value=e.data},X=async e=>{const t=await i.Ay.post("/hotels/book",{userId:r.Ay.getCookie("userId"),hotelId:q.value,roomType:e.room_type,startDate:U.value,endDate:M.value});let a=t.data.reservationId;const l=await i.Ay.post("/totalorder/create",{userId:r.Ay.getCookie("userId"),order_type:"HOTEL",reservation_id:a,payment:e.price});try{await d.A.push({path:"/hotelorderprepare",query:{res_id:l.data.id,hotel_id:q.value,room_type:e.room_type}})}catch(o){console.error(o)}},j=e=>"SINGLE"===e?"单人间":"DOUBLE"===e?"双人间":"套房",H=(0,l.EW)((()=>{let e=new Date(U.value),t=new Date(M.value);return e>=t}));return(e,t)=>{const r=(0,l.g2)("el-image"),c=(0,l.g2)("el-col"),d=(0,l.g2)("el-row"),O=(0,l.g2)("el-date-picker"),q=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(r,{style:{width:"100%"},fit:e.contain,src:a(321),class:"hotel-page-image",alt:"顶部图片"},null,8,["fit","src"]),(0,l.Lk)("div",m,[(0,l.Lk)("div",v,[(0,l.Lk)("div",null,(0,o.v_)(z.value.name),1)]),(0,l.Lk)("div",f,[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{span:17},{default:(0,l.k6)((()=>[(0,l.bF)(r,{fit:e.cover,src:(0,s.R1)(i.Tt)()+z.value.picture_path,class:"hotel-image",alt:"酒店图片"},null,8,["fit","src"])])),_:1}),(0,l.bF)(c,{span:7},{default:(0,l.k6)((()=>[(0,l.Lk)("div",k,[(0,l.Lk)("span",g,(0,o.v_)(z.value.score),1),h,(0,l.Lk)("p",y,(0,o.v_)(z.value.description),1)])])),_:1})])),_:1})]),(0,l.Lk)("div",b,[_,(0,l.bF)(O,{modelValue:U.value,"onUpdate:modelValue":t[0]||(t[0]=e=>U.value=e),type:"date",placeholder:"选择入住时间","default-time":(0,s.R1)(u),style:{"padding-left":"2%","padding-right":"2%",width:"30%"},"value-format":"YYYY-MM-DD"},null,8,["modelValue","default-time"]),L,(0,l.bF)(O,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),type:"date",placeholder:"选择离开时间","default-time":(0,s.R1)(u),style:{"padding-left":"2%","padding-right":"2%",width:"30%"},"value-format":"YYYY-MM-DD"},null,8,["modelValue","default-time"]),(0,l.bF)(q,{type:"primary",style:{"margin-left":"3%"},onClick:W},{default:(0,l.k6)((()=>[(0,l.eW)("查询")])),_:1}),(0,l.bo)((0,l.Lk)("span",w," 日期错误！ ",512),[[n.aG,H.value]])]),(0,l.Lk)("div",C,[F,(0,l.Lk)("ul",D,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(G.value,(t=>((0,l.uX)(),(0,l.CE)("li",R,[(0,l.Lk)("div",I,[(0,l.bF)(d,{class:"room-row"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{span:6},{default:(0,l.k6)((()=>[(0,l.bF)(r,{fit:e.cover,src:t.image,class:"room-image",alt:"房间图片"},null,8,["fit","src"])])),_:2},1024),(0,l.bF)(c,{span:8},{default:(0,l.k6)((()=>[(0,l.Lk)("div",A,[(0,l.Lk)("h3",x,(0,o.v_)(j(t.room_type)),1),(0,l.Lk)("p",K,(0,o.v_)(t.description),1)])])),_:2},1024),(0,l.bF)(c,{span:3},{default:(0,l.k6)((()=>[(0,l.Lk)("div",T,[(0,l.Lk)("span",null,"剩余"+(0,o.v_)(t.availableQuantity),1)])])),_:2},1024),(0,l.bF)(c,{span:4},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Y,[E,(0,l.Lk)("span",null,(0,o.v_)(t.price),1)])])),_:2},1024),(0,l.bF)(c,{span:3},{default:(0,l.k6)((()=>[(0,l.Lk)("div",V,[(0,l.bF)(q,{style:{"margin-top":"15%"},size:"large",round:"",type:"danger",onClick:e=>X(t),disabled:H.value},{default:(0,l.k6)((()=>[(0,l.eW)("预订")])),_:2},1032,["onClick","disabled"])])])),_:2},1024)])),_:2},1024)])])))),256))])])])])}}},M=a(1241);const z=(0,M.A)(U,[["__scopeId","data-v-4d863ce6"]]);var O=z},321:function(e,t,a){e.exports=a.p+"img/topPic.e3cb8f4d.jpg"},2966:function(e,t,a){e.exports=a.p+"img/image1.d47c3ce7.png"}}]);
//# sourceMappingURL=854.2487ac2f.js.map