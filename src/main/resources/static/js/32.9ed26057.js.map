{"version":3,"file":"js/32.9ed26057.js","mappings":"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","sources":["webpack://vue/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue/./src/util/cookie.js","webpack://vue/./src/util/time.js","webpack://vue/./src/views/IdentityCard.vue","webpack://vue/./src/views/IdentityCard.vue?a7cf","webpack://vue/./src/views/TicketDetail.vue","webpack://vue/./src/views/TicketDetail.vue?770c"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","export function setCookie(name, value, days) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    const expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\r\n}\r\n/*\r\n设置cookie\r\n */\r\nexport function getCookie(name) {\r\n    const cookieName = name + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    for (let i = 0; i < cookieArray.length; i++) {\r\n        let cookie = cookieArray[i];\r\n        while (cookie.charAt(0) === ' ') {\r\n            cookie = cookie.substring(1);\r\n        }\r\n        if (cookie.indexOf(cookieName) === 0) {\r\n            return cookie.substring(cookieName.length, cookie.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n/*\r\n获取cookie\r\n */\r\nexport function deleteCookie(cookieName) {\r\n    document.cookie = cookieName + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';\r\n}\r\nexport function getCookieNum(){\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    return cookieArray.length;\r\n}\r\nexport default {\r\n    setCookie,getCookie,getCookieNum,deleteCookie\r\n}","export function formatDate (d) {\r\n    var date = new Date(d);\r\n    var YY = date.getFullYear() + '-';\r\n    var MM =\r\n        (date.getMonth() + 1 < 10\r\n            ? '0' + (date.getMonth() + 1)\r\n            : date.getMonth() + 1) + '-';\r\n    var DD = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var hh =\r\n        (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n    var mm =\r\n        (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +\r\n        ':';\r\n    var ss =\r\n        date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n    return YY + MM + DD + ' ' + hh + mm + ss;\r\n}\r\n/*\r\n 函数名称：formatDate\r\n 功能：将中国标准时间转化为数据库中对应的Timestamp时间戳\r\n */\r\n/*\r\n    函数名称：stampToTime\r\n    功能：将时间戳转化成24小时制时间\r\n */\r\nexport function stampToTime(timestamp) {\r\n    const date = new Date(timestamp); // 使用时间戳创建Date对象\r\n    const hours = ('0' + date.getUTCHours()).slice(-2); // 获取小时并补零\r\n    const minutes = ('0' + date.getUTCMinutes()).slice(-2); // 获取分钟并补零\r\n\r\n\r\n     // 格式化时间，例如：04:00\r\n    return hours + ':' + minutes;\r\n}\r\nexport function formToDate(inputDate) {\r\n    const date = new Date(inputDate);\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    return `${month}月${day}日`;\r\n}\r\n/*\r\n获取当前时间yyyy-mm-dd\r\n */\r\nexport function getCurrentTime() {\r\n    let today = new Date();\r\n    let year = today.getFullYear();\r\n    let month = today.getMonth() + 1; // 月份从0开始，需要加1\r\n    let day = today.getDate();\r\n\r\n    month = month < 10 ? '0' + month : month;\r\n    day = day < 10 ? '0' + day : day;\r\n\r\n    return `${year}-${month}-${day}`; // 输出 yyyy-MM-dd 格式的当前日期\r\n}\r\nexport default {\r\n    formatDate,\r\n    stampToTime,\r\n    formToDate,\r\n    getCurrentTime\r\n}","<template>\r\n  <el-card style=\"width: 100%\">\r\n    <div style=\"display: flex\">\r\n      <div style=\"width: 80%\">\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <el-col :span=\"4\">\r\n              <span style=\"font-size: larger; color: #12a72b\">{{ passenger.name }}</span>\r\n            </el-col>\r\n            <!--            <div style=\"border-radius: 5px; border: 1px solid #6b778c; color: #6b778c\">学生</div>-->\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <hr style=\"color: #6b778c\">\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>手机号: {{ passenger.phone_number }}</span>\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>身份证号: {{ maskedIdentity }}</span>\r\n          </el-row>\r\n        </div>\r\n      </div>\r\n      <div style=\"width: 20%; display: flex; justify-content: center; align-items: center;\">\r\n        <div @click=\"passenger.dialogVisible = true\">\r\n          <el-icon size=\"40px\" color=\"gray\"><EditPen /></el-icon>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n  <el-dialog v-model=\"passenger.dialogVisible\" title=\"修改乘车人信息\">\r\n    <div class=\"component\">\r\n    <hr style=\"color: #6b778c\">\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入姓名：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newName\" placeholder=\"请输入名字\" style=\"width: 65%;\"/>\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入手机号：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newPhone\" placeholder=\"请输入手机号\" style=\"width: 63%;\"/>\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入身份证号：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newIdentity\" placeholder=\"请输入身份证号\" style=\"width: 61%;\"/>\r\n    </div>\r\n    <template #footer>\r\n      <el-button @click=\"passenger.dialogVisible =false\" type=\"default\">返回</el-button>\r\n      <el-button @click=\"handleModify\" type=\"primary\">修改信息</el-button>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport requestUtil from \"@/util/request\";\r\nimport {computed, ref} from \"vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nexport default {\r\n  props: {\r\n    passenger: Object\r\n  },\r\n  setup(props) {\r\n    const newName = ref(\"\");\r\n    const newIdentity = ref(\"\");\r\n    const newPhone = ref(\"\");\r\n    const handleModify = async() => {\r\n      if(newName.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入姓名！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      if(newIdentity.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入身份证号！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      if(newPhone.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入电话号！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        const res = await requestUtil.post('/passenger/modify', {\r\n          \"pid\": props.passenger.pid,\r\n          \"name\": newName.value,\r\n          \"identity\": newIdentity.value,\r\n          \"phoneNum\": newPhone.value,\r\n        })\r\n        if(res.data.code == \"200\") {\r\n          ElMessage({\r\n            message: \"修改成功！\",\r\n            type: \"success\"\r\n          })\r\n          setTimeout(function() {\r\n            location.reload();\r\n          }, 500);\r\n        }else{\r\n         if(res.data.msg === \"illegal identity\"){\r\n           ElMessage({\r\n             message: \"请输入正确的身份证号\",\r\n             type: \"warning\"\r\n           });\r\n         }\r\n         if(res.data.msg === \"illegal phone\") {\r\n           ElMessage({\r\n             message: \"请输入正确的的手机号\",\r\n             type: \"warning\"\r\n           });\r\n         }\r\n        }\r\n      }catch (e) {\r\n        ElMessage({\r\n          message: \"修改失败\",\r\n          type: \"error\"\r\n        })\r\n      }\r\n    }\r\n\r\n    // 计算身份证号码的掩码形式\r\n    const maskedIdentity = computed(() => {\r\n      // 将身份证号码转换为字符串\r\n      const identity = props.passenger.identity.toString();\r\n      // 获取身份证号码的长度\r\n      const length = identity.length;\r\n      // 如果身份证号码长度小于3，则返回原始身份证号码\r\n      if (length < 3) return identity;\r\n      // 获取需要替换为\"*\"的长度（身份证号码中间部分）\r\n      const replaceLength = length - 7;\r\n      // 构建掩码字符串\r\n      const maskedString = \"*\".repeat(replaceLength);\r\n      // 将身份证号码的中间部分替换为掩码字符串\r\n      return identity.substring(0, 3) + maskedString + identity.substring(length - 4);\r\n    });\r\n\r\n    return {\r\n      maskedIdentity,\r\n      handleModify,\r\n      newName,\r\n      newPhone,\r\n      newIdentity\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n@import \"@/assets/css/basic.css\";\r\n</style>","import { render } from \"./IdentityCard.vue?vue&type=template&id=5a85c12d&scoped=true\"\nimport script from \"./IdentityCard.vue?vue&type=script&lang=js\"\nexport * from \"./IdentityCard.vue?vue&type=script&lang=js\"\n\nimport \"./IdentityCard.vue?vue&type=style&index=0&id=5a85c12d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a85c12d\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"component\">\r\n    <el-page-header :icon=\"ArrowLeft\" @back=\"backToInfo\">\r\n      <template #content>\r\n        <span class=\"head-trip-info\">车次详情</span>\r\n      </template>\r\n    </el-page-header>\r\n  </div>\r\n  <div class=\"component\">\r\n    <hr>\r\n  </div>\r\n  <el-card class=\"page-container\">\r\n    <div class=\"spacer\"></div> <!-- 空的div调整间距用 -->\r\n\r\n    <div>\r\n      <div class=\"ticket-info\">\r\n        <el-row class=\"component\">\r\n          <el-col :span=\"8\" class=\"ticket-time\">{{ trip.start_time }}</el-col>\r\n          <el-col :span=\"8\" class=\"trip-no\">\r\n            <div class=\"underline-container\">\r\n              <span class=\"underline-text\">时刻表</span>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"ticket-time\">{{ trip.end_time }}</el-col>\r\n        </el-row>\r\n        <el-row class=\"component\">\r\n          <el-col :span=\"8\" class=\"ticket-place\">{{ trip.from_place }}</el-col>\r\n          <el-col :span=\"8\" class=\"time\">{{ trip.train_id }} · {{ duration }}</el-col>\r\n          <el-col :span=\"8\" class=\"ticket-place\">{{ trip.to_place }}</el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n\r\n      <div class=\"buy-boarder\">\r\n        <el-row>\r\n          <el-col :span=\"8\" class=\"ticket-level\">\r\n                <span style=\"align-items: center\">二等座 \r\n                    <span class=\"availability\" v-if=\"trip.second_seat > 0\">有票</span>\r\n                    <span :span=\"6\" class=\"unavailability\" v-else>无票</span>\r\n                </span>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"ticket-price\">\r\n            ￥{{ (price * 1).toFixed(2) }}\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"buy-nutton\">\r\n            <div class=\"button-container\">\r\n              <el-button v-if=\"trip.first_seat>0\" @click=\"goToTicketOrderPrepare('second')\" type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\">\r\n                订购\r\n              </el-button>\r\n              <el-button v-else type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\" disabled=\"true\">订购</el-button>\r\n\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <div class=\"buy-boarder\">\r\n        <el-row>\r\n          <el-col :span=\"8\" class=\"ticket-level\">\r\n                <span style=\"align-items: center\">一等座 \r\n                    <span class=\"availability\" v-if=\"trip.first_seat > 0 \">有票</span>\r\n                    <span :span=\"6\" class=\"unavailability\" v-else>无票</span>\r\n                </span>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"ticket-price\">\r\n            ￥{{ (price * 1.2).toFixed(2) }}\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"buy-nutton\">\r\n            <div class=\"button-container\">\r\n              <el-button v-if=\"trip.first_seat>0\" @click=\"goToTicketOrderPrepare('first')\" type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\">\r\n                订购\r\n              </el-button>\r\n              <el-button v-else type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\" disabled=\"true\">订购</el-button>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <div class=\"buy-boarder\">\r\n        <el-row>\r\n          <el-col :span=\"8\" class=\"ticket-level\">\r\n                <span style=\"align-items: center\">商务座 \r\n                    <span class=\"availability\" v-if=\"trip.first_seat > 0 || trip.second_seat > 0\">有票</span>\r\n                    <span :span=\"6\" class=\"unavailability\" v-else>无票</span>\r\n\r\n                </span>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"ticket-price\">\r\n            ￥{{ (price * 1.5).toFixed(2) }}\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"buy-nutton\">\r\n            <div class=\"button-container\">\r\n              <el-button v-if=\"trip.first_seat>0\" @click=\"goToTicketOrderPrepare('business')\" type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\">\r\n                订购\r\n              </el-button>\r\n              <el-button v-else type=\"primary\" size=\"mini\" style=\"height:40px;width:130px\" disabled=\"true\">订购</el-button>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script setup>\r\nimport {useRoute} from 'vue-router';\r\nimport {defineProps, onMounted, ref} from 'vue';\r\nimport requestUtil from '@/util/request'\r\nimport timeUtil from '@/util/time'\r\nimport IdentityCard from \"@/views/IdentityCard.vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport cookieUtil from \"@/util/cookie\"\r\nimport router from \"@/router\";\r\nimport time from '@/util/time';\r\nimport {ArrowLeft} from \"@element-plus/icons-vue\";\r\n\r\nconst route = useRoute();\r\nconst tripId = ref(route.query.trip_id);\r\nconst trip = ref(\"\");\r\nconst duration = ref(\"\");\r\nconst price = ref(\"\");\r\nconst chooseVisible = ref(false);\r\nconst passengers = ref([]);\r\nconst addVisible = ref(false);\r\nconst newName = ref(\"\");\r\nconst newPhone = ref(\"\");\r\nconst newIdentity = ref(\"\");\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const res4 = await requestUtil.get('/trip/select/tripId', {\r\n      \"tripId\": tripId.value,\r\n    });\r\n    trip.value = res4.data;\r\n    trip.value.start_time = timeUtil.stampToTime(timeUtil.formatDate(trip.value.start_time));\r\n    trip.value.end_time = timeUtil.stampToTime(timeUtil.formatDate(trip.value.end_time));\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n  console.log(trip);\r\n  const res5 = await requestUtil.get('/trip/sum', {\r\n    \"tripId\": tripId.value,\r\n    \"fromPlace\": trip.value.from_place,\r\n    \"toPlace\": trip.value.to_place\r\n  })\r\n  const res6 = await requestUtil.get('/trip/minPrice', {\r\n    \"tripId\": tripId.value,\r\n    \"fromPlace\": trip.value.from_place,\r\n    \"toPlace\": trip.value.to_place\r\n  })\r\n  console.log(res5.data.firstSeats);\r\n  trip.value.first_seat = res5.data.firstSeats;\r\n  trip.value.second_seat = res5.data.secondSeats;\r\n  duration.value = res5.data.time;\r\n  price.value = res6.data.minPrice;\r\n\r\n  const res = await requestUtil.get('/passenger/select/userId', {\r\n    \"userId\": cookieUtil.getCookie(\"userId\")\r\n  })\r\n  passengers.value = res.data;\r\n  passengers.value.forEach(item => {\r\n    item.dialogVisible = false;\r\n  })\r\n  console.log(passengers.value);\r\n});\r\nconst backToInfo = () => {\r\n  let param = {\r\n    \"fromPlace\": route.query.fromPlace,\r\n    \"toPlace\": route.query.toPlace,\r\n    \"startTime\": route.query.startTime\r\n  };\r\n  router.push({path: '/ticket', query: param});\r\n}\r\nconst addPassenger = async () => {\r\n  try {\r\n    const res = await requestUtil.post(\"/passenger/create\", {\r\n      \"phoneNum\": newPhone.value,\r\n      \"userId\": cookieUtil.getCookie(\"userId\"),\r\n      \"identity\": newIdentity.value,\r\n      \"name\": newName.value\r\n    })\r\n    console.log(res.data);\r\n    if (res.data.msg == \"create passenger success\") {\r\n      ElMessage({\r\n        message: \"创建成功！\",\r\n        type: \"success\"\r\n      })\r\n    } else if (res.data.msg == \"passenger already exists\") {\r\n      ElMessage({\r\n        message: \"该用户已存在！\",\r\n        type: \"warning\"\r\n      })\r\n    }\r\n    setTimeout(function () {\r\n      location.reload();\r\n    }, 500);\r\n  } catch (e) {\r\n    ElMessage({\r\n      message: \"创建失败\",\r\n      type: \"error\"\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\nconst goToTicketOrderPrepare = (seatType) => {\r\n  let param = {\r\n    \"trip_id\": tripId.value,\r\n    \"fromPlace\": route.query.fromPlace,\r\n    \"toPlace\": route.query.toPlace,\r\n    \"startTime\": trip.value.start_time,\r\n    \"endTime\":trip.value.end_time,\r\n    \"price\":price.value,\r\n    \"seatType\": seatType,\r\n    \"train_id\":route.query.train_id\r\n  };\r\n  router.push({path: '/TicketOrderPrepare', query: param});\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.ticket-card {\r\n  width: 95%;\r\n  border-radius: 4px;\r\n}\r\n\r\n.ticket-info {\r\n  padding: 40px;\r\n  background-color: #c8eaf5;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.buy-boarder {\r\n  padding: 40px;\r\n  background-color: #c8eaf551;\r\n  border-radius: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-container {\r\n  display: flex;\r\n  justify-content: center; /* 水平居中 */\r\n  align-items: center; /* 垂直居中 */\r\n  height: 100%; /* 可选：设置容器的高度 */\r\n}\r\n\r\n\r\n.ticket-time {\r\n  text-align: center;\r\n  font-size: 55px;\r\n  font-weight: bold;\r\n}\r\n\r\n.ticket-level {\r\n  text-align: center;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: rgba(22, 97, 203, 0.796)\r\n}\r\n\r\n.ticket-price {\r\n  text-align: center;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: #f6392bd0;\r\n}\r\n\r\n.ticket-place {\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n}\r\n\r\n.time {\r\n  text-align: center;\r\n  color: gray;\r\n  font-size: 15px;\r\n}\r\n\r\n.availability {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #12a72b;\r\n}\r\n\r\n.unavailability {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #dc2323;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.highlight-orange-text {\r\n  background-color: orange;\r\n  color: white;\r\n  padding: 1px 4px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.highlight-green-text {\r\n  background-color: green;\r\n  color: white;\r\n  padding: 1px 4px;\r\n  border-radius: 5px;\r\n\r\n}\r\n\r\n.spacer {\r\n  margin-bottom: 30px; /* 根据需要调整间距 */\r\n}\r\n\r\n.page-container {\r\n  background-color: rgba(177, 216, 238, 0.132);\r\n  background-size: auto;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n}\r\n\r\n.underline-container {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 20px;\r\n}\r\n\r\n.underline-container::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: -300%; /* 左侧超出文本部分的长度 */\r\n  right: -300%; /* 右侧超出文本部分的长度 */\r\n  bottom: -20px; /* 控制下划线距离文本的位置 */\r\n  height: 2px; /* 下划线的高度 */\r\n  background-color: darkgray; /* 下划线颜色 */\r\n}\r\n\r\n.underline-text {\r\n  position: relative;\r\n  z-index: 1;\r\n  font-size: 20px;\r\n}\r\n\r\n.icon-wechat {\r\n  background-image: url('~@/assets/images/payMethod/wechat.png'); /* 使用webpack的别名指向图片路径 */\r\n  background-size: contain; /* 调整图片尺寸 */\r\n  background-repeat: no-repeat; /* 禁止背景图片重复 */\r\n  width: 160px; /* 设置图标宽度 */\r\n  height: 200px; /* 设置图标高度 */\r\n  display: inline-block; /* 将图标设置为行内块元素 */\r\n}\r\n\r\n.icon-alipay {\r\n  background-image: url('~@/assets/images/payMethod/alipay.png');\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  width: 160px;\r\n  height: 200px;\r\n  display: inline-block;\r\n}\r\n\r\n.icon-bank {\r\n  background-image: url('~@/assets/images/payMethod/bank.png');\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  width: 160px;\r\n  height: 200px;\r\n  display: inline-block;\r\n}\r\n\r\n\r\n@import \"@/assets/css/card-order.css\";\r\n</style>\r\n\r\n\r\n","import script from \"./TicketDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TicketDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TicketDetail.vue?vue&type=style&index=0&id=fbd50d06&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fbd50d06\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","setCookie","name","value","days","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","cookieName","decodedCookie","decodeURIComponent","cookieArray","split","i","length","charAt","substring","indexOf","deleteCookie","getCookieNum","formatDate","date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","stampToTime","timestamp","hours","getUTCHours","slice","minutes","getUTCMinutes","formToDate","inputDate","month","String","padStart","day","getCurrentTime","today","year","style","class","_createElementVNode","_createTextVNode","_createElementBlock","_Fragment","_createVNode","_component_el_card","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_component_el_row","_component_el_col","span","_hoisted_4","_toDisplayString","$props","passenger","_","_hoisted_5","_hoisted_6","phone_number","_hoisted_7","$setup","maskedIdentity","_hoisted_8","onClick","_cache","$event","dialogVisible","_component_el_icon","size","color","_component_EditPen","_component_el_dialog","modelValue","title","footer","_component_el_button","type","handleModify","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_input","newName","placeholder","_hoisted_12","_hoisted_13","newPhone","_hoisted_14","_hoisted_15","newIdentity","Object","setup","ref","async","res","requestUtil","pid","data","code","ElMessage","message","setTimeout","location","reload","msg","e","computed","identity","toString","replaceLength","maskedString","repeat","__exports__","render","route","useRoute","tripId","query","trip_id","trip","duration","price","passengers","onMounted","res4","start_time","timeUtil","end_time","console","error","log","res5","from_place","to_place","res6","firstSeats","first_seat","second_seat","secondSeats","time","minPrice","cookieUtil","forEach","item","backToInfo","param","fromPlace","toPlace","startTime","router","push","path","goToTicketOrderPrepare","seatType","train_id"],"sourceRoot":""}