{"version":3,"file":"js/803.1747b11c.js","mappings":"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","sources":["webpack://vue/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue/./src/util/cookie.js","webpack://vue/./src/util/message.js","webpack://vue/./src/util/time.js","webpack://vue/./src/views/IdentityCard.vue","webpack://vue/./src/views/IdentityCard.vue?a7cf","webpack://vue/./src/views/TicketOrderPrepare.vue","webpack://vue/./src/views/TicketOrderPrepare.vue?6ab5"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","export function setCookie(name, value, days) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    const expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\r\n}\r\n/*\r\n设置cookie\r\n */\r\nexport function getCookie(name) {\r\n    const cookieName = name + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    for (let i = 0; i < cookieArray.length; i++) {\r\n        let cookie = cookieArray[i];\r\n        while (cookie.charAt(0) === ' ') {\r\n            cookie = cookie.substring(1);\r\n        }\r\n        if (cookie.indexOf(cookieName) === 0) {\r\n            return cookie.substring(cookieName.length, cookie.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n/*\r\n获取cookie\r\n */\r\nexport function deleteCookie(cookieName) {\r\n    document.cookie = cookieName + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';\r\n}\r\nexport function getCookieNum(){\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    return cookieArray.length;\r\n}\r\nexport default {\r\n    setCookie,getCookie,getCookieNum,deleteCookie\r\n}","import requestUtil from \"@/util/request\"\r\nimport {dayjs} from \"element-plus\";\r\nimport axios from 'axios';\r\n/*\r\n功能：生成消息并推送给指定用户\r\n使用方法：\r\n<script>\r\nimport messageUtil from \"@/util/message\"\r\n\r\nconst _functionname = async (_params) => {\r\n  await messageUtil.createMessage(\"whosend\", userId, \"title\", \"body\")\r\n}\r\n */\r\nexport async function createMessage(send, receive, title, body){\r\n    await requestUtil.post('message/create', {\r\n        send: send,\r\n        receive: receive,\r\n        title: title,\r\n        body: body\r\n    })\r\n}\r\n\r\nexport async function getUnreadMessageNumber(receive){\r\n    const rec = await requestUtil.get('message/unreadnumberselect', {\r\n        receive: receive\r\n    })\r\n    console.log(rec.data)\r\n    return rec.data\r\n}\r\nexport default {\r\n    createMessage,\r\n    getUnreadMessageNumber\r\n}","export function formatDate (d) {\r\n    var date = new Date(d);\r\n    var YY = date.getFullYear() + '-';\r\n    var MM =\r\n        (date.getMonth() + 1 < 10\r\n            ? '0' + (date.getMonth() + 1)\r\n            : date.getMonth() + 1) + '-';\r\n    var DD = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var hh =\r\n        (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n    var mm =\r\n        (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +\r\n        ':';\r\n    var ss =\r\n        date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n    return YY + MM + DD + ' ' + hh + mm + ss;\r\n}\r\n/*\r\n 函数名称：formatDate\r\n 功能：将中国标准时间转化为数据库中对应的Timestamp时间戳\r\n */\r\n/*\r\n    函数名称：stampToTime\r\n    功能：将时间戳转化成24小时制时间\r\n */\r\nexport function stampToTime(timestamp) {\r\n    const date = new Date(timestamp); // 使用时间戳创建Date对象\r\n    const hours = ('0' + date.getUTCHours()).slice(-2); // 获取小时并补零\r\n    const minutes = ('0' + date.getUTCMinutes()).slice(-2); // 获取分钟并补零\r\n\r\n\r\n     // 格式化时间，例如：04:00\r\n    return hours + ':' + minutes;\r\n}\r\nexport function formToDate(inputDate) {\r\n    const date = new Date(inputDate);\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    return `${month}月${day}日`;\r\n}\r\n/*\r\n获取当前时间yyyy-mm-dd\r\n */\r\nexport function getCurrentTime() {\r\n    let today = new Date();\r\n    let year = today.getFullYear();\r\n    let month = today.getMonth() + 1; // 月份从0开始，需要加1\r\n    let day = today.getDate();\r\n\r\n    month = month < 10 ? '0' + month : month;\r\n    day = day < 10 ? '0' + day : day;\r\n\r\n    return `${year}-${month}-${day}`; // 输出 yyyy-MM-dd 格式的当前日期\r\n}\r\nexport default {\r\n    formatDate,\r\n    stampToTime,\r\n    formToDate,\r\n    getCurrentTime\r\n}","<template>\r\n  <el-card style=\"width: 100%\">\r\n    <div style=\"display: flex\">\r\n      <div style=\"width: 80%\">\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <el-col :span=\"4\">\r\n              <span style=\"font-size: larger; color: #12a72b\">{{ passenger.name }}</span>\r\n            </el-col>\r\n            <!--            <div style=\"border-radius: 5px; border: 1px solid #6b778c; color: #6b778c\">学生</div>-->\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <hr style=\"color: #6b778c\">\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>手机号: {{ passenger.phone_number }}</span>\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>身份证号: {{ maskedIdentity }}</span>\r\n          </el-row>\r\n        </div>\r\n      </div>\r\n      <div style=\"width: 20%; display: flex; justify-content: center; align-items: center;\">\r\n        <div @click=\"passenger.dialogVisible = true\">\r\n          <el-icon size=\"40px\" color=\"gray\"><EditPen /></el-icon>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n  <el-dialog v-model=\"passenger.dialogVisible\" title=\"修改乘车人信息\">\r\n    <div class=\"component\">\r\n    <hr style=\"color: #6b778c\">\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入姓名：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newName\" placeholder=\"请输入名字\" style=\"width: 65%;\"/>\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入手机号：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newPhone\" placeholder=\"请输入手机号\" style=\"width: 63%;\"/>\r\n    </div>\r\n    <div class=\"component\">\r\n      <span style=\"margin-right: 2%\">请输入身份证号：<span style=\"color: red\">*</span></span>\r\n      <el-input v-model=\"newIdentity\" placeholder=\"请输入身份证号\" style=\"width: 61%;\"/>\r\n    </div>\r\n    <template #footer>\r\n      <el-button @click=\"passenger.dialogVisible =false\" type=\"default\">返回</el-button>\r\n      <el-button @click=\"handleModify\" type=\"primary\">修改信息</el-button>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport requestUtil from \"@/util/request\";\r\nimport {computed, ref} from \"vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nexport default {\r\n  props: {\r\n    passenger: Object\r\n  },\r\n  setup(props) {\r\n    const newName = ref(\"\");\r\n    const newIdentity = ref(\"\");\r\n    const newPhone = ref(\"\");\r\n    const handleModify = async() => {\r\n      if(newName.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入姓名！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      if(newIdentity.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入身份证号！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      if(newPhone.value === \"\") {\r\n        ElMessage({\r\n          message: \"请输入电话号！\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        const res = await requestUtil.post('/passenger/modify', {\r\n          \"pid\": props.passenger.pid,\r\n          \"name\": newName.value,\r\n          \"identity\": newIdentity.value,\r\n          \"phoneNum\": newPhone.value,\r\n        })\r\n        if(res.data.code == \"200\") {\r\n          ElMessage({\r\n            message: \"修改成功！\",\r\n            type: \"success\"\r\n          })\r\n          setTimeout(function() {\r\n            location.reload();\r\n          }, 500);\r\n        }else{\r\n         if(res.data.msg === \"illegal identity\"){\r\n           ElMessage({\r\n             message: \"请输入正确的身份证号\",\r\n             type: \"warning\"\r\n           });\r\n         }\r\n         if(res.data.msg === \"illegal phone\") {\r\n           ElMessage({\r\n             message: \"请输入正确的的手机号\",\r\n             type: \"warning\"\r\n           });\r\n         }\r\n        }\r\n      }catch (e) {\r\n        ElMessage({\r\n          message: \"修改失败\",\r\n          type: \"error\"\r\n        })\r\n      }\r\n    }\r\n\r\n    // 计算身份证号码的掩码形式\r\n    const maskedIdentity = computed(() => {\r\n      // 将身份证号码转换为字符串\r\n      const identity = props.passenger.identity.toString();\r\n      // 获取身份证号码的长度\r\n      const length = identity.length;\r\n      // 如果身份证号码长度小于3，则返回原始身份证号码\r\n      if (length < 3) return identity;\r\n      // 获取需要替换为\"*\"的长度（身份证号码中间部分）\r\n      const replaceLength = length - 7;\r\n      // 构建掩码字符串\r\n      const maskedString = \"*\".repeat(replaceLength);\r\n      // 将身份证号码的中间部分替换为掩码字符串\r\n      return identity.substring(0, 3) + maskedString + identity.substring(length - 4);\r\n    });\r\n\r\n    return {\r\n      maskedIdentity,\r\n      handleModify,\r\n      newName,\r\n      newPhone,\r\n      newIdentity\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n@import \"@/assets/css/basic.css\";\r\n</style>","import { render } from \"./IdentityCard.vue?vue&type=template&id=5a85c12d&scoped=true\"\nimport script from \"./IdentityCard.vue?vue&type=script&lang=js\"\nexport * from \"./IdentityCard.vue?vue&type=script&lang=js\"\n\nimport \"./IdentityCard.vue?vue&type=style&index=0&id=5a85c12d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a85c12d\"]])\n\nexport default __exports__","<template>\r\n\r\n  <el-page-header :icon=\"ArrowLeft\" @back=\"backToDetail\">\r\n    <template #content>\r\n      <span class=\"head-trip-info\">车票预定</span>\r\n    </template>\r\n  </el-page-header>\r\n  <div class=\"component\">\r\n    <hr>\r\n  </div>\r\n  <div class=\"component\">\r\n    <el-card class=\"page-container\">\r\n      <div class=\"spacer\"></div>\r\n      <div class=\"component\">\r\n      <el-card style=\"width: 100%;\">\r\n        <div class=\"component\">\r\n        <span style=\"font-size: larger\">请选择乘车人:</span>\r\n        </div>\r\n        <div class=\"component\">\r\n          <hr>\r\n        </div>\r\n        <div v-if=\"passengers.length > 0\" v-for=\"passenger in passengers\" :key=\"passenger.pid\" style=\"margin-top: 3%\">\r\n          <IdentityCard :passenger=\"passenger\"/>\r\n        </div>\r\n        <div v-else>\r\n          <NoIdentity/>\r\n        </div>\r\n\r\n        <div class=\"component\" style=\"display: flex\">\r\n          <el-button style=\"width: 40%; margin-left: 5%\" type=\"primary\" @click=\"chooseVisible = true\"> 选择已有乘车人</el-button>\r\n          <el-button style=\"width: 40%;margin-left: 10%\" @click=\"addVisible = true\"> + 点击添加乘车人</el-button>\r\n        </div>\r\n        <el-dialog v-model=\"chooseVisible\" title=\"选择已有乘车人\">\r\n          <hr>\r\n          <div v-if=\"oldPassengers.length > 0\" v-for=\"passenger in oldPassengers\" :key=\"passenger.pid\" style=\"margin-top: 3%\">\r\n            <div @click=\"addOldPassenger(passenger)\">\r\n            <IdentityCard :passenger=\"passenger\" />\r\n            </div>\r\n          </div>\r\n          <template #footer>\r\n            <el-button type=\"default\" @click=\"chooseVisible = false\">返回</el-button>\r\n          </template>\r\n        </el-dialog>\r\n        <el-dialog v-model=\"addVisible\" title=\"添加乘车人\">\r\n          <div class=\"component\">\r\n            <hr style=\"color: #6b778c\">\r\n          </div>\r\n          <div class=\"component\">\r\n            <span style=\"margin-right: 2%\">请输入姓名：<span style=\"color: red\">*</span></span>\r\n            <el-input v-model=\"newName\" placeholder=\"请输入名字\" style=\"width: 65%;\"/>\r\n          </div>\r\n          <div class=\"component\">\r\n            <span style=\"margin-right: 2%\">请输入手机号：<span style=\"color: red\">*</span></span>\r\n            <el-input v-model=\"newPhone\" placeholder=\"请输入手机号\" style=\"width: 63%;\"/>\r\n          </div>\r\n          <div class=\"component\">\r\n            <span style=\"margin-right: 2%\">请输入身份证号：<span style=\"color: red\">*</span></span>\r\n            <el-input v-model=\"newIdentity\" placeholder=\"请输入身份证号\" style=\"width: 61%;\"/>\r\n          </div>\r\n          <template #footer>\r\n            <el-button type=\"default\" @click=\"addVisible = false\">返回</el-button>\r\n            <el-button type=\"primary\" @click=\"addPassenger\">添加乘车人</el-button>\r\n          </template>\r\n        </el-dialog>\r\n      </el-card>\r\n      </div>\r\n      <div class=\"component\">\r\n      <el-card>\r\n        <span style=\"font-size: larger\">请选择支付方式:  </span>\r\n        <div class=\"component\">\r\n          <hr>\r\n        </div>\r\n        <el-radio-group v-model=\"selectedPaymentMethod\">\r\n\r\n          <el-radio-button label=\"wechat\">\r\n            <i class=\"icon-wechat\"></i>\r\n          </el-radio-button>\r\n          <el-radio-button label=\"alipay\">\r\n            <i class=\"icon-alipay\"></i>\r\n          </el-radio-button>\r\n          <el-radio-button label=\"bank\">\r\n            <i class=\"icon-bank\"></i>\r\n          </el-radio-button>\r\n\r\n        </el-radio-group>\r\n\r\n        <span class=\"ticket-price\">支付总额：￥{{ route.query.price }}</span>\r\n      </el-card>\r\n      </div>\r\n      <div class=\"component\">\r\n      <el-card>\r\n        <span style=\"font-size: larger\">请选择座位:  </span>\r\n        <div class=\"component\">\r\n          <hr>\r\n        </div>\r\n        <el-radio-group v-model=\"selectedSeatPlace\">\r\n          <el-radio label=\"window\" disabled>窗户</el-radio>\r\n          <el-radio-button label=\"A\">\r\n            <i class=\"icon-seat\"></i>\r\n          </el-radio-button>\r\n          <el-radio-button label=\"B\">\r\n            <i class=\"icon-seat\"></i>\r\n          </el-radio-button>\r\n          <el-radio-button label=\"C\">\r\n            <i class=\"icon-seat\"></i>\r\n          </el-radio-button>\r\n          <el-radio label=\"aisle\" disabled>过道</el-radio>\r\n          <el-radio-button label=\"D\">\r\n            <i class=\"icon-seat\"></i>\r\n          </el-radio-button>\r\n          <el-radio-button label=\"F\">\r\n            <i class=\"icon-seat\"></i>\r\n          </el-radio-button>\r\n          <el-radio label=\"window\" disabled>窗户</el-radio>\r\n        </el-radio-group>\r\n      </el-card>\r\n      </div>\r\n      <div>\r\n        <el-button @click=\"openDialog\" type=\"primary\" style=\"margin-left:20%;margin-top:20px;height:40px;width:200px\">预定\r\n        </el-button>\r\n        <el-button @click=\"backToDetail\" style=\"margin-left:20%;margin-top:20px;height:40px;width:200px\">取消\r\n        </el-button>\r\n      </div>\r\n\r\n      <el-dialog v-model=\"dialogVisible\">\r\n        <div class=\"trip-info\">\r\n      <el-row class=\"component\">\r\n        <el-col :span=\"6\" class=\"trip-time\">{{ route.query.startTime }}</el-col>\r\n        <el-col :span=\"6\" class=\"trip-no\">\r\n          <div class=\"underline-container\">\r\n            <span class=\"underline-text\">{{ route.query.train_id }}</span>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"6\" class=\"trip-time\">{{ route.query.endTime }}</el-col>\r\n        <el-col :span=\"6\" class=\"trip-price\">￥{{ route.query.price }}</el-col>\r\n      </el-row>\r\n      <el-row class=\"component\">\r\n        <el-col :span=\"6\" class=\"trip-place\">{{ route.query.fromPlace }}</el-col>\r\n        <el-col :span=\"6\" :offset=\"6\" class=\"trip-place\">{{ route.query.toPlace }}</el-col>\r\n        <el-col :span=\"6\" class=\"ticket-level\">\r\n          <span style=\"align-items: center\">{{ seatTypeText }}</span></el-col>\r\n      </el-row>\r\n    </div>\r\n    <hr>\r\n    <div class=\"component\">\r\n    <span style=\"font-size:20px;\">乘车人信息：</span>\r\n    </div>\r\n    <el-card style=\"width: 100%\">\r\n    <div style=\"display: flex\">\r\n      <div style=\"width: 80%\">\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <el-col :span=\"4\">\r\n              <span style=\"font-size: larger; color: #12a72b\">{{ passengers[0].name }}</span>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <hr style=\"color: #6b778c\">\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>手机号: {{ passengers[0].phone_number }}</span>\r\n          </el-row>\r\n        </div>\r\n        <div class=\"component\">\r\n          <el-row>\r\n            <span>身份证号: {{ passengers[0].identity }}</span>\r\n          </el-row>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n        <el-button @click=\"confirmOrder\" type=\"primary\" style=\"margin-left:15%;margin-top:10px;height:40px;width:200px\">确认支付\r\n        </el-button>\r\n        <el-button @click=\"cancelOrder\" style=\"margin-left:20%;margin-top:10px;height:40px;width:200px\">取消订单\r\n        </el-button>\r\n      </el-dialog>\r\n\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {useRoute} from 'vue-router';\r\nimport {defineProps, onMounted, ref} from 'vue';\r\nimport requestUtil from '@/util/request'\r\nimport timeUtil from '@/util/time'\r\nimport IdentityCard from \"@/views/IdentityCard.vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport cookieUtil from \"@/util/cookie\"\r\nimport router from \"@/router\";\r\nimport time from '@/util/time';\r\nimport {ArrowLeft} from \"@element-plus/icons-vue\";\r\nimport axios from 'axios';\r\nimport messageUtil from \"@/util/message\"\r\n\r\nconst passengers = ref([]);\r\nconst addVisible = ref(false);\r\nconst newName = ref(\"\");\r\nconst newPhone = ref(\"\");\r\nconst newIdentity = ref(\"\");\r\nconst route = useRoute();\r\nconst chooseVisible = ref(false);\r\nconst oldPassengers = ref([]);\r\nconst passengerId = ref('');\r\nonMounted(async()=> {\r\n  const res = await requestUtil.get('/passenger/select/userId', {\r\n    \"userId\": cookieUtil.getCookie(\"userId\")\r\n  })\r\n  oldPassengers.value = res.data;\r\n  oldPassengers.value.forEach(item => {\r\n    item.dialogVisible = false;\r\n  })\r\n  console.log(passengers.value);\r\n});\r\n\r\nconst addOldPassenger = (passenger) => {\r\n  if(passengers.value.length < 1) {\r\n    if (passengers.value.some(p => p.name === passenger.name)) {\r\n      ElMessage({\r\n        message: \"乘车人已存在！\",\r\n        type: \"warning\"\r\n      });\r\n    } else {\r\n      setTimeout(function () {\r\n        passengers.value.push(passenger);\r\n        passengerId.value = passenger.pid;\r\n        ElMessage({\r\n          message: \"添加乘车人成功！\",\r\n          type: \"success\"\r\n        });\r\n      }, 300);\r\n    }\r\n  } else {\r\n    setTimeout(function() {\r\n      ElMessage({\r\n        message: \"最多只能添加1个乘车人！\",\r\n        type: \"warning\"\r\n      })\r\n    }, 300)\r\n  }\r\n}\r\n\r\nconst addPassenger = async () => {\r\n  try {\r\n    console.log(route.query.seatType);\r\n    const res = await requestUtil.post(\"/passenger/create\", {\r\n      \"phoneNum\": newPhone.value,\r\n      \"userId\": cookieUtil.getCookie(\"userId\"),\r\n      \"identity\": newIdentity.value,\r\n      \"name\": newName.value,\r\n    })\r\n    console.log(res.data);\r\n    if (res.data.msg == \"create passenger success\") {\r\n      ElMessage({\r\n        message: \"创建成功！\",\r\n        type: \"success\"\r\n      })\r\n    } else if (res.data.msg == \"passenger already exists\") {\r\n      ElMessage({\r\n        message: \"该用户已存在！\",\r\n        type: \"warning\"\r\n      })\r\n    }\r\n    setTimeout(function () {\r\n      location.reload();\r\n    }, 500);\r\n  } catch (e) {\r\n    ElMessage({\r\n      message: \"创建失败\",\r\n      type: \"error\"\r\n    })\r\n  }\r\n\r\n}\r\n\r\nconst selectedPaymentMethod = ref(\"\");\r\nconst selectedSeatPlace = ref(\"\");\r\nconst dialogVisible = ref(false);\r\n\r\nconst backToDetail = () => {\r\n  let param = {\r\n    \"trip_id\": route.query.trip_id,\r\n    \"fromPlace\": route.query.fromPlace,\r\n    \"toPlace\": route.query.toPlace,\r\n    \"startTime\": route.query.startTime\r\n  };\r\n  router.push({path: '/ticketdetail', query: param});\r\n}\r\n\r\nconst openDialog = async () => {\r\n    if(passengers.value.length <1) {\r\n      ElMessage.warning(\"请选择乘车人！\");\r\n      return;\r\n    }\r\n    if(selectedPaymentMethod.value == \"\") {\r\n        ElMessage({\r\n            message: \"请选择支付方式！\",\r\n            type: \"warning\"\r\n        });\r\n        return;\r\n    }\r\n      await createOrder(); // 在打开对话框前执行createOrder\r\n      dialogVisible.value = true;\r\n};\r\n\r\nconst createOrder = async() =>{\r\n\r\n    const chosenSeat = ref(\"\");\r\n    if(selectedSeatPlace.value == \"\") {\r\n        chosenSeat.value = \"E\";\r\n    } else {\r\n        chosenSeat.value = selectedSeatPlace.value;\r\n    }\r\n    console.log(selectedSeatPlace.value);\r\n    console.log(passengerId.value);\r\n    // 发送创建订单的请求\r\n    const res = await requestUtil.post('/order/create', {\r\n        order_time: timeUtil.getCurrentTime(),\r\n        user_id: cookieUtil.getCookie(\"userId\"),\r\n        //type: this.type,\r\n        state: \"notpayed\",\r\n        from_place: route.query.fromPlace,\r\n        to_place: route.query.toPlace,\r\n        payment: route.query.price,\r\n        trip_id: route.query.trip_id,\r\n        seat: chosenSeat.value,\r\n        payway: selectedPaymentMethod.value,\r\n        \"seat_type\": route.query.seatType,\r\n        \"pid\": 1\r\n    })\r\n   console.log(res.data);\r\n}\r\n\r\nconst confirmMessage = async () => {\r\n        await messageUtil.createMessage(\"汪汪旅途\", cookieUtil.getCookie(\"userId\"), \"火车票购票成功\", `您的从${route.query.fromPlace}到${route.query.toPlace}的车次火车票已购买成功，将在${route.query.startTime}出发，请关注车次动态，及时出行，注意安全。祝您旅途愉快，汪汪~`)\r\n}\r\n\r\nconst cancelMessage = async () => {\r\n        await messageUtil.createMessage(\"汪汪旅途\", cookieUtil.getCookie(\"userId\"), \"火车票取消成功\", `您的从${route.query.fromPlace}到${route.query.toPlace}的车次火车票已经取消，您在${route.query.startTime}不会出发。汪汪很遗憾这次不能陪伴您出行，祝您生活愉快~`)\r\n}\r\n\r\nconst confirmOrder = async() =>{\r\n    //确认订单\r\n    const res = await requestUtil.get('/order/confirm')\r\n    .then(response => {\r\n      // 请求成功处理\r\n      console.log(response.data);\r\n    })\r\n    .catch(error => {\r\n      // 请求失败\r\n      console.error(error);\r\n    });\r\n    ElMessage.success('购票成功');\r\n    let param = {\r\n    \"fromPlace\": route.query.fromPlace,\r\n    \"toPlace\": route.query.toPlace,\r\n    \"startTime\": route.query.startTime,\r\n    };\r\n    router.push({path: '/ticket',query: param});\r\n\r\n    await confirmMessage();\r\n}\r\n\r\nconst cancelOrder = async() =>{\r\n    //确认订单\r\n    const res = await requestUtil.post('/order/cancel', {\r\n        state: \"canceled\"\r\n    })\r\n    .then(response => {\r\n      // 请求成功处理\r\n      console.log(response.data);\r\n    })\r\n    .catch(error => {\r\n      // 请求失败\r\n      console.error(error);\r\n    });\r\n    ElMessage.success('取消订单成功');\r\n\r\n    await cancelMessage();\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.ticket-card {\r\n  width: 95%;\r\n  border-radius: 4px;\r\n}\r\n\r\n.ticket-info {\r\n  padding: 40px;\r\n  background-color: #c8eaf5;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.buy-boarder {\r\n  padding: 40px;\r\n  background-color: #c8eaf551;\r\n  border-radius: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-container {\r\n  display: flex;\r\n  justify-content: center; /* 水平居中 */\r\n  align-items: center; /* 垂直居中 */\r\n  height: 100%; /* 可选：设置容器的高度 */\r\n}\r\n\r\n\r\n.ticket-time {\r\n  text-align: center;\r\n  font-size: 55px;\r\n  font-weight: bold;\r\n}\r\n\r\n.ticket-level {\r\n  text-align: center;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: rgba(22, 97, 203, 0.796)\r\n}\r\n\r\n.ticket-price {\r\n  margin-left: 15%;\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: #f6392bd0;\r\n}\r\n\r\n.ticket-place {\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n}\r\n\r\n.time {\r\n  text-align: center;\r\n  color: gray;\r\n  font-size: 15px;\r\n}\r\n\r\n.availability {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #12a72b;\r\n}\r\n\r\n.unavailability {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #dc2323;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.highlight-orange-text {\r\n  background-color: orange;\r\n  color: white;\r\n  padding: 1px 4px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.highlight-green-text {\r\n  background-color: green;\r\n  color: white;\r\n  padding: 1px 4px;\r\n  border-radius: 5px;\r\n\r\n}\r\n\r\n.spacer {\r\n  margin-bottom: 30px; /* 根据需要调整间距 */\r\n}\r\n\r\n.page-container {\r\n  background-color: rgba(177, 216, 238, 0.132);\r\n  background-size: auto;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n}\r\n\r\n.underline-container {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 20px;\r\n}\r\n\r\n.underline-container::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: -100%; /* 左侧超出文本部分的长度 */\r\n  right: -100%; /* 右侧超出文本部分的长度 */\r\n  bottom: -20px; /* 控制下划线距离文本的位置 */\r\n  height: 2px; /* 下划线的高度 */\r\n  background-color: darkgray; /* 下划线颜色 */\r\n}\r\n\r\n.underline-text {\r\n  position: relative;\r\n  z-index: 1;\r\n  font-size: 20px;\r\n}\r\n\r\n.icon-wechat {\r\n  background-image: url('~@/assets/images/payMethod/wechat.png'); /* 使用webpack的别名指向图片路径 */\r\n  background-size: contain; /* 调整图片尺寸 */\r\n  background-repeat: no-repeat; /* 禁止背景图片重复 */\r\n  width: 120px; /* 设置图标宽度 */\r\n  height: 150px; /* 设置图标高度 */\r\n  display: inline-block; /* 将图标设置为行内块元素 */\r\n}\r\n\r\n.icon-alipay {\r\n  background-image: url('~@/assets/images/payMethod/alipay.png');\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  width: 120px;\r\n  height: 150px;\r\n  display: inline-block;\r\n}\r\n\r\n.icon-bank {\r\n  background-image: url('~@/assets/images/payMethod/bank.png');\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  width: 120px;\r\n  height: 150px;\r\n  display: inline-block;\r\n}\r\n\r\n.icon-seat {\r\n  background-image: url('~@/assets/images/jinmao_seat.jpeg');\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  width: 80px;\r\n  height: 100px;\r\n  display: inline-block;\r\n}\r\n\r\n.trip-place {\r\n    text-align: center;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n}\r\n\r\n/* @import \"@/assets/css/card-order.css\"; */\r\n</style>\r\n\r\n\r\n","import script from \"./TicketOrderPrepare.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TicketOrderPrepare.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TicketOrderPrepare.vue?vue&type=style&index=0&id=c5bc206e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c5bc206e\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","setCookie","name","value","days","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","cookieName","decodedCookie","decodeURIComponent","cookieArray","split","i","length","charAt","substring","indexOf","deleteCookie","getCookieNum","async","createMessage","send","receive","title","body","requestUtil","getUnreadMessageNumber","rec","console","log","data","formatDate","date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","stampToTime","timestamp","hours","getUTCHours","slice","minutes","getUTCMinutes","formToDate","inputDate","month","String","padStart","day","getCurrentTime","today","year","style","class","_createElementVNode","_createTextVNode","_createElementBlock","_Fragment","_createVNode","_component_el_card","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_component_el_row","_component_el_col","span","_hoisted_4","_toDisplayString","$props","passenger","_","_hoisted_5","_hoisted_6","phone_number","_hoisted_7","$setup","maskedIdentity","_hoisted_8","onClick","_cache","$event","dialogVisible","_component_el_icon","size","color","_component_EditPen","_component_el_dialog","modelValue","footer","_component_el_button","type","handleModify","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_input","newName","placeholder","_hoisted_12","_hoisted_13","newPhone","_hoisted_14","_hoisted_15","newIdentity","Object","setup","ref","res","pid","code","ElMessage","message","setTimeout","location","reload","msg","e","computed","identity","toString","replaceLength","maskedString","repeat","__exports__","render","passengers","addVisible","route","useRoute","chooseVisible","oldPassengers","passengerId","onMounted","cookieUtil","forEach","item","addOldPassenger","some","p","push","addPassenger","query","seatType","selectedPaymentMethod","selectedSeatPlace","backToDetail","param","trip_id","fromPlace","toPlace","startTime","router","path","openDialog","warning","createOrder","chosenSeat","order_time","timeUtil","user_id","state","from_place","to_place","payment","price","seat","payway","confirmMessage","messageUtil","cancelMessage","confirmOrder","then","response","catch","error","success","cancelOrder"],"sourceRoot":""}