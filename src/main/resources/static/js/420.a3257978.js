"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[420],{1241:function(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n}},7488:function(e,t,n){function l(e,t,n){const l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3);const o="expires="+l.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}function o(e){const t=e+"=",n=decodeURIComponent(document.cookie),l=n.split(";");for(let o=0;o<l.length;o++){let e=l[o];while(" "===e.charAt(0))e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""}function a(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}function s(){const e=decodeURIComponent(document.cookie),t=e.split(";");return t.length}t.Ay={setCookie:l,getCookie:o,getCookieNum:s,deleteCookie:a}},1407:function(e,t,n){var l=n(8073);async function o(e,t,n,o){await l.Ay.post("message/create",{send:e,receive:t,title:n,body:o})}async function a(e){const t=await l.Ay.get("message/unreadnumberselect",{receive:e});return console.log(t.data),t.data}t.Ay={createMessage:o,getUnreadMessageNumber:a}},4420:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});n(4114);var l=n(6768),o=n(144),a=n(4232),s=n(1407),u=n(7488);const i=e=>((0,l.Qi)("data-v-3600d136"),e=e(),(0,l.jt)(),e),r=i((()=>(0,l.Lk)("span",null,"菜单",-1))),c=i((()=>(0,l.Lk)("span",null,"主页",-1))),d=i((()=>(0,l.Lk)("span",null,"用户中心",-1))),g={key:0},k={key:1},f=i((()=>(0,l.Lk)("span",null,"Navigator Four",-1)));var p={__name:"index",setup(e){const t=(0,o.KR)(!0);let n=(0,o.KR)();function i(){1==t.value?t.value=!1:t.value=!0,p()}async function p(){n=await s.Ay.getUnreadMessageNumber(u.Ay.getCookie("userId"))}return(0,l.sV)((async()=>{await p()})),(e,s)=>{const u=(0,l.g2)("Operation"),b=(0,l.g2)("el-icon"),m=(0,l.g2)("el-menu-item"),v=(0,l.g2)("House"),_=(0,l.g2)("User"),y=(0,l.g2)("el-sub-menu"),F=(0,l.g2)("ChatDotSquare"),C=(0,l.g2)("setting"),h=(0,l.g2)("el-menu");return(0,l.uX)(),(0,l.Wv)(h,{"active-text-color":"#ffd04b","background-color":"#545c64",class:"el-menu-vertical-demo full-height","default-active":"2","text-color":"#fff",onOpen:e.handleOpen,onClose:e.handleClose,router:"true",collapse:t.value},{default:(0,l.k6)((()=>[(0,l.bF)(m,{onClick:i},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(u)])),_:1}),r])),_:1}),(0,l.bF)(m,{index:"/main",onClick:p},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1}),c])),_:1}),(0,l.bF)(y,{index:"1"},{title:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(_)])),_:1}),d])),default:(0,l.k6)((()=>[(0,l.bF)(m,{index:"/userinfo"},{default:(0,l.k6)((()=>[(0,l.eW)("用户信息")])),_:1}),(0,l.bF)(m,{index:"/user/foodorders"},{default:(0,l.k6)((()=>[(0,l.eW)("用户订单")])),_:1}),(0,l.bF)(m,{index:"/user/passengers"},{default:(0,l.k6)((()=>[(0,l.eW)("乘车人信息")])),_:1})])),_:1}),(0,l.bF)(m,{index:"/message"},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(F)])),_:1}),0===(0,o.R1)(n)?((0,l.uX)(),(0,l.CE)("span",g,"消息中心")):((0,l.uX)(),(0,l.CE)("span",k,"消息中心("+(0,a.v_)((0,o.R1)(n))+"条未读）",1))])),_:1}),(0,l.bF)(m,{index:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(C)])),_:1}),f])),_:1})])),_:1},8,["onOpen","onClose","collapse"])}}},b=n(1241);const m=(0,b.A)(p,[["__scopeId","data-v-3600d136"]]);var v=m,_=n(3153),y=n(1387),F=n(1219),C=n(8073);const h=(0,l.Lk)("img",{src:_,alt:"Logo",style:{height:"40px","margin-right":"10px"}},null,-1),A=(0,l.Lk)("span",null,"您确定要退出登录吗？",-1),w={class:"dialog-footer"};var x={__name:"index",setup(e){const t=(0,o.KR)(""),n=(0,y.rd)(),s=u.Ay.getCookie("userName"),i=(0,o.KR)(""),r=(0,o.KR)([]);console.log(i),(0,l.sV)((()=>{""===s&&((0,F.nk)({message:"请先登录！",type:"warning"}),setTimeout((()=>{n.push("/login")}),1e3))})),(0,l.sV)((async()=>{const e=await C.Ay.get("/user/select/userId",{userId:u.Ay.getCookie("userId")});r.value=e.data,console.log(e)}));let c=(0,o.KR)(!1);const d=()=>{n.push("/main")},g=()=>{try{const e=u.Ay.getCookie("rememberMe");e||(u.Ay.deleteCookie("userName"),u.Ay.deleteCookie("userId"),u.Ay.deleteCookie("password"),u.Ay.deleteCookie("avatar")),u.Ay.setCookie("ifLogin",!1,3600),c=!1,(0,F.nk)({message:"退出成功！",type:"success"}),setTimeout((()=>{n.push("/login")}),500)}catch(e){console.error(e),(0,F.nk)({message:"退出失败",type:"warning"})}};return(e,u)=>{const i=(0,l.g2)("el-col"),k=(0,l.g2)("el-input"),f=(0,l.g2)("el-button"),p=(0,l.g2)("el-dialog"),b=(0,l.g2)("el-avatar"),m=(0,l.g2)("el-row");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(m,{style:{"background-color":"#2d3a4b",height:"100%",display:"flex","align-items":"center"}},{default:(0,l.k6)((()=>[(0,l.bF)(i,{span:5},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{style:{color:"white"}},[h,(0,l.Lk)("span",{class:"title",onClick:d},"汪汪旅途")])])),_:1}),(0,l.bF)(i,{span:7},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(k,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=e=>t.value=e),style:{width:"95%"},placeholder:"请输入查询内容",clearable:""},null,8,["modelValue"])])])),_:1}),(0,l.bF)(i,{span:3},{default:(0,l.k6)((()=>[(0,l.bF)(f,{type:"primary",plain:""},{default:(0,l.k6)((()=>[(0,l.eW)("搜索")])),_:1})])),_:1}),(0,l.bF)(i,{span:2,offset:2,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)(" 欢迎，"+(0,a.v_)((0,o.R1)(s)),1)])),_:1}),(0,l.bF)(i,{span:2},{default:(0,l.k6)((()=>[(0,l.Lk)("span",{style:{color:"white",cursor:"pointer"},onClick:u[1]||(u[1]=e=>(0,o.i9)(c)?c.value=!0:c=!0)},"退出登录"),(0,l.bF)(p,{modelValue:(0,o.R1)(c),"onUpdate:modelValue":u[3]||(u[3]=e=>(0,o.i9)(c)?c.value=e:c=e),title:"Tips",width:"500"},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",w,[(0,l.bF)(f,{onClick:u[2]||(u[2]=e=>(0,o.i9)(c)?c.value=!1:c=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("返回")])),_:1}),(0,l.bF)(f,{type:"primary",onClick:g},{default:(0,l.k6)((()=>[(0,l.eW)(" 退出 ")])),_:1})])])),default:(0,l.k6)((()=>[A])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(i,{span:2,offset:1},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(b,{src:(0,o.R1)(C.Tt)()+r.value.avatar,onClick:u[4]||(u[4]=e=>(0,o.R1)(n).push("/userinfo"))},null,8,["src"])])])),_:1})])),_:1}),(0,l.bF)(m)],64)}}};const L=x;var R=L;var V=n(9325);const I={class:"app-wrapper"};var T={__name:"index",setup(e){return(0,l.sV)((()=>{console.log(u.Ay.getCookie("ifLogin")),"false"===u.Ay.getCookie("ifLogin")&&(console.log(u.Ay.getCookie("ifLogin")),(0,F.nk)({message:"请先登录！",type:"warning"}),V.A.push("/login"))})),(e,t)=>{const n=(0,l.g2)("el-aside"),a=(0,l.g2)("el-header"),s=(0,l.g2)("router-view"),u=(0,l.g2)("el-main"),i=(0,l.g2)("el-container");return(0,l.uX)(),(0,l.CE)("div",I,[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.bF)(n,{width:"isCollapse ? '65px' : '200px'",class:"sidebar-container"},{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(v))])),_:1}),(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(R))])),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(s)])),_:1})])),_:1})])),_:1})])}}};const U=(0,b.A)(T,[["__scopeId","data-v-b173102c"]]);var W=U},3153:function(e,t,n){e.exports=n.p+"img/logo.6db34f64.png"}}]);
//# sourceMappingURL=420.a3257978.js.map