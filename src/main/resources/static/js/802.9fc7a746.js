"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[802],{1241:function(t,e){e.A=(t,e)=>{const a=t.__vccOpts||t;for(const[s,i]of e)a[s]=i;return a}},1802:function(t,e,a){a.r(e),a.d(e,{default:function(){return F}});a(4114);var s=a(6768),i=a(4232),c=a(144),l=a(1387),n=a(8073),r=a(9325);const k=t=>((0,s.Qi)("data-v-0044b928"),t=t(),(0,s.jt)(),t),o={class:"ticket-info"},d={class:"underline-container"},u={class:"underline-text"},p={key:0,class:"highlight-orange-text"},_={key:0,class:"highlight-green-text"},f={style:{"align-items":"center"}},v={style:{color:"#42b983"}},m={style:{"align-items":"center"}},b={style:{color:"#42b983"}},g=k((()=>(0,s.Lk)("span",{style:{"align-items":"center"}},[(0,s.eW)("商务："),(0,s.Lk)("span",{style:{color:"#42b983"}},"有座")],-1)));var y={__name:"TicketCard",props:{ticket:{type:Object,required:!0}},setup(t){const e=(0,l.lq)(),a=t,k=(0,c.KR)(""),y=()=>{let t={trip_id:a.ticket.trip_id,fromPlace:a.ticket.from_place,toPlace:a.ticket.to_place,startTime:e.query.startTime,train_id:a.ticket.train_id};r.A.push({path:"/TicketDetail",query:t})};return(0,s.sV)((async()=>{const t=await n.Ay.get("/trip/sum",{tripId:a.ticket.trip_id,fromPlace:e.query.fromPlace,toPlace:e.query.toPlace});k.value=t.data.time,console.log(t.data),console.log(k.value);const s=await n.Ay.get("/trip/minPrice",{tripId:a.ticket.trip_id,fromPlace:e.query.fromPlace,toPlace:e.query.toPlace});t.data.firstSeats<20?(a.ticket.first_seat=t.data.firstSeats,a.ticket.firstSeats=t.data.firstSeats+"张"):(a.ticket.first_seat=t.data.firstSeats,a.ticket.firstSeats="有座"),t.data.secondSeats<20?(a.ticket.second_seat=t.data.secondSeats,a.ticket.secondSeats=t.data.secondSeats+"张"):(a.ticket.second_seat=t.data.secondSeats,a.ticket.secondSeats="有座"),a.ticket.duration=t.data.time,a.ticket.price=s.data.minPrice})),console.log(a.ticket.second_seat),console.log(a.ticket.first_seat),(e,c)=>{const l=(0,s.g2)("el-col"),n=(0,s.g2)("el-row"),r=(0,s.g2)("el-card");return(0,s.uX)(),(0,s.CE)("div",{onClick:y},[(0,s.bF)(r,{class:"ticket-card",shadow:"dark"},{footer:(0,s.k6)((()=>[(0,s.bF)(n,null,{default:(0,s.k6)((()=>[(0,s.bF)(l,{span:8},{default:(0,s.k6)((()=>[(0,s.Lk)("span",f,[(0,s.eW)("二等："),(0,s.Lk)("span",v,(0,i.v_)(t.ticket.secondSeats),1)])])),_:1}),(0,s.bF)(l,{span:8},{default:(0,s.k6)((()=>[(0,s.Lk)("span",m,[(0,s.eW)("一等："),(0,s.Lk)("span",b,(0,i.v_)(t.ticket.firstSeats),1)])])),_:1}),(0,s.bF)(l,{span:8},{default:(0,s.k6)((()=>[g])),_:1})])),_:1})])),default:(0,s.k6)((()=>[(0,s.Lk)("div",o,[(0,s.bF)(n,{class:"component"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{span:6,class:"ticket-time"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(t.ticket.start_time),1)])),_:1}),(0,s.bF)(l,{span:6,class:"trip-no"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.Lk)("span",u,(0,i.v_)(t.ticket.train_id),1)])])),_:1}),(0,s.bF)(l,{span:6,class:"ticket-time"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(t.ticket.end_time),1)])),_:1}),(0,s.bF)(l,{span:6,class:"ticket-price"},{default:(0,s.k6)((()=>[(0,s.eW)("￥"+(0,i.v_)(t.ticket.price)+"起",1)])),_:1})])),_:1}),(0,s.bF)(n,{class:"component"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{span:6,class:"ticket-place"},{default:(0,s.k6)((()=>[t.ticket.departureHighlight?((0,s.uX)(),(0,s.CE)("span",p,"始")):(0,s.Q3)("",!0),(0,s.eW)((0,i.v_)(a.ticket.from_place),1)])),_:1}),(0,s.bF)(l,{span:6,class:"time"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(a.ticket.duration),1)])),_:1}),(0,s.bF)(l,{span:6,class:"ticket-place"},{default:(0,s.k6)((()=>[t.ticket.arrivalHighlight?((0,s.uX)(),(0,s.CE)("span",_,"终")):(0,s.Q3)("",!0),(0,s.eW)((0,i.v_)(a.ticket.to_place),1)])),_:1}),"有座"==a.ticket.firstSeats||"有座"==a.ticket.secondSeats?((0,s.uX)(),(0,s.Wv)(l,{key:0,span:6,class:"availability"},{default:(0,s.k6)((()=>[(0,s.eW)("有票")])),_:1})):((0,s.uX)(),(0,s.Wv)(l,{key:1,span:6,class:"unavailability"},{default:(0,s.k6)((()=>[(0,s.eW)("无票")])),_:1}))])),_:1})])])),_:1})])}}},h=a(1241);const S=(0,h.A)(y,[["__scopeId","data-v-0044b928"]]);var F=S}}]);
//# sourceMappingURL=802.9fc7a746.js.map