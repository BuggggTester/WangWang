{"version":3,"file":"js/420.a3257978.js","mappings":"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","sources":["webpack://vue/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue/./src/util/cookie.js","webpack://vue/./src/util/message.js","webpack://vue/./src/layout/menu/index.vue","webpack://vue/./src/layout/menu/index.vue?85a4","webpack://vue/./src/layout/header/index.vue","webpack://vue/./src/layout/header/index.vue?07a3","webpack://vue/./src/layout/tabs/index.vue","webpack://vue/./src/layout/index.vue","webpack://vue/./src/layout/index.vue?b2da"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","export function setCookie(name, value, days) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    const expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\r\n}\r\n/*\r\n设置cookie\r\n */\r\nexport function getCookie(name) {\r\n    const cookieName = name + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    for (let i = 0; i < cookieArray.length; i++) {\r\n        let cookie = cookieArray[i];\r\n        while (cookie.charAt(0) === ' ') {\r\n            cookie = cookie.substring(1);\r\n        }\r\n        if (cookie.indexOf(cookieName) === 0) {\r\n            return cookie.substring(cookieName.length, cookie.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n/*\r\n获取cookie\r\n */\r\nexport function deleteCookie(cookieName) {\r\n    document.cookie = cookieName + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';\r\n}\r\nexport function getCookieNum(){\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(';');\r\n    return cookieArray.length;\r\n}\r\nexport default {\r\n    setCookie,getCookie,getCookieNum,deleteCookie\r\n}","import requestUtil from \"@/util/request\"\r\nimport {dayjs} from \"element-plus\";\r\nimport axios from 'axios';\r\n/*\r\n功能：生成消息并推送给指定用户\r\n使用方法：\r\n<script>\r\nimport messageUtil from \"@/util/message\"\r\n\r\nconst _functionname = async (_params) => {\r\n  await messageUtil.createMessage(\"whosend\", userId, \"title\", \"body\")\r\n}\r\n */\r\nexport async function createMessage(send, receive, title, body){\r\n    await requestUtil.post('message/create', {\r\n        send: send,\r\n        receive: receive,\r\n        title: title,\r\n        body: body\r\n    })\r\n}\r\n\r\nexport async function getUnreadMessageNumber(receive){\r\n    const rec = await requestUtil.get('message/unreadnumberselect', {\r\n        receive: receive\r\n    })\r\n    console.log(rec.data)\r\n    return rec.data\r\n}\r\nexport default {\r\n    createMessage,\r\n    getUnreadMessageNumber\r\n}","<template>\r\n  <el-menu\r\n      active-text-color=\"#ffd04b\"\r\n      background-color=\"#545c64\"\r\n      class=\"el-menu-vertical-demo full-height\"\r\n      default-active=\"2\"\r\n      text-color=\"#fff\"\r\n      @open=\"handleOpen\"\r\n      @close=\"handleClose\"\r\n      router=\"true\"\r\n      :collapse=\"isCollapse\"\r\n  >\r\n    <el-menu-item @click=\"collapseItem\">\r\n        <el-icon>\r\n          <Operation/>\r\n        </el-icon>\r\n      <span>菜单</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"/main\" @click=\"updateUnreadMessagesNumber\">\r\n        <el-icon>\r\n          <House/>\r\n        </el-icon>\r\n        <span>主页</span>\r\n    </el-menu-item>\r\n    <el-sub-menu index=\"1\">\r\n      <template #title>\r\n        <el-icon><User/></el-icon>\r\n        <span>用户中心</span>\r\n      </template>\r\n      <el-menu-item index=\"/userinfo\">用户信息</el-menu-item>\r\n      <el-menu-item index=\"/user/foodorders\">用户订单</el-menu-item>\r\n      <el-menu-item index=\"/user/passengers\">乘车人信息</el-menu-item>\r\n    </el-sub-menu>\r\n<!--    <el-sub-menu index=\"2\">-->\r\n<!--      <template #title>-->\r\n<!--        <el-icon><location /></el-icon>-->\r\n<!--        <span>车次/订单管理</span>-->\r\n<!--      </template>-->\r\n<!--        <el-menu-item index=\"/manage/trips\" >创建车次</el-menu-item>-->\r\n<!--        <el-menu-item index=\"/manage/orders\" >创建订单</el-menu-item>-->\r\n<!--    </el-sub-menu>-->\r\n    <el-menu-item index=\"/message\">\r\n      <el-icon>\r\n        <ChatDotSquare />\r\n      </el-icon>\r\n      <span v-if=\"unreadMessageNumber === 0\">消息中心</span>\r\n      <span v-else>消息中心({{unreadMessageNumber}}条未读）</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"4\">\r\n      <el-icon>\r\n        <setting/>\r\n      </el-icon>\r\n      <span>Navigator Four</span>\r\n    </el-menu-item>\r\n  </el-menu>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from 'vue'\r\n\r\nconst isCollapse = ref(true)\r\nlet unreadMessageNumber = ref()\r\nimport messageUtil from '@/util/message'\r\nimport cookieUtil from \"@/util/cookie\"\r\nfunction collapseItem() {\r\n  if (isCollapse.value == true) isCollapse.value = false;\r\n  else isCollapse.value = true;\r\n  updateUnreadMessagesNumber();\r\n}\r\nasync function updateUnreadMessagesNumber (){\r\n  unreadMessageNumber = await messageUtil.getUnreadMessageNumber(cookieUtil.getCookie(\"userId\"))\r\n}\r\nonMounted(async () => {\r\n  await updateUnreadMessagesNumber()\r\n  // console.log(\"unreadMessageNumber = \"+unreadMessageNumber)\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.full-height {\r\n  height: 100%;\r\n}\r\n\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3600d136&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3600d136\"]])\n\nexport default __exports__","<template>\r\n  <el-row style=\"background-color: #2d3a4b; height: 100%; display: flex; align-items: center;\" >\r\n    <el-col :span=\"5\">\r\n      <div style=\"color: white\">\r\n        <img src=\"../../assets/logo.png\" alt=\"Logo\" style=\"height: 40px; margin-right: 10px;\">\r\n        <span class=\"title\" @click=\"goHome\">汪汪旅途</span>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"7\" >\r\n      <div>\r\n        <el-input\r\n            v-model=\"input\"\r\n            style=\"width: 95%;\"\r\n            placeholder=\"请输入查询内容\"\r\n            clearable\r\n        />\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"3\">\r\n      <el-button type=\"primary\" plain>搜索</el-button>\r\n    </el-col>\r\n    <el-col :span=\"2\" :offset=\"2\" style=\"color: white\">\r\n      欢迎，{{ user }}\r\n    </el-col>\r\n    <el-col :span=\"2\">\r\n      <span style=\"color: white; cursor: pointer\" @click=\"dialogVisible = true\">退出登录</span>\r\n      <el-dialog\r\n          v-model=\"dialogVisible\"\r\n          title=\"Tips\"\r\n          width=\"500\"\r\n      >\r\n        <span>您确定要退出登录吗？</span>\r\n        <template #footer>\r\n          <div class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">返回</el-button>\r\n            <el-button type=\"primary\" @click=\"quit\">\r\n              退出\r\n            </el-button>\r\n          </div>\r\n        </template>\r\n      </el-dialog>\r\n    </el-col>\r\n    <el-col :span=\"2\" :offset=\"1\">\r\n      <div>\r\n        <el-avatar :src=\"getServerUrl()+userInfo.avatar\" @click=\"router.push('/userinfo')\"/>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n  <el-row>\r\n  </el-row>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from 'vue'\r\nconst input = ref('')\r\nimport { useRouter } from 'vue-router'\r\nimport cookieUtil from \"@/util/cookie\"\r\nimport {ElMessage} from \"element-plus\";\r\nimport {getServerUrl} from \"@/util/request\";\r\nimport requestUtil from \"@/util/request\";\r\nconst router = useRouter()\r\nconst user = cookieUtil.getCookie(\"userName\")\r\nconst avatarUrl = ref('');\r\nconst userInfo = ref([]);\r\nconsole.log(avatarUrl);\r\nonMounted(()=> {\r\n  if(user === \"\"){\r\n    ElMessage({\r\n      message: \"请先登录！\",\r\n      type: \"warning\"\r\n    });\r\n    setTimeout(()=>{\r\n      router.push('/login')\r\n    },1000);\r\n  }\r\n})\r\nonMounted(async()=> {\r\n  const res = await requestUtil.get(\"/user/select/userId\",{\r\n    userId: cookieUtil.getCookie(\"userId\")\r\n  })\r\n  userInfo.value = res.data;\r\n  console.log(res);\r\n})\r\n\r\nlet dialogVisible = ref(false)\r\nconst goHome = () =>{\r\n  router.push('/main')\r\n}\r\nconst quit = () =>{\r\n  try{\r\n    const rememberMe = cookieUtil.getCookie(\"rememberMe\");\r\n    if(!rememberMe) {\r\n      //如果登录选择不记住密码，则清除cookie\r\n      cookieUtil.deleteCookie(\"userName\");\r\n      cookieUtil.deleteCookie(\"userId\");\r\n      cookieUtil.deleteCookie(\"password\");\r\n      cookieUtil.deleteCookie(\"avatar\");\r\n    }\r\n    cookieUtil.setCookie(\"ifLogin\", false, 3600);\r\n    dialogVisible = false;\r\n    ElMessage({\r\n      message: \"退出成功！\",\r\n      type: \"success\"\r\n    })\r\n    setTimeout(()=>{\r\n      router.push('/login')\r\n    },500);\r\n  }catch (e) {\r\n    console.error(e);\r\n    ElMessage({\r\n      message: \"退出失败\",\r\n      type: \"warning\"\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.title {\r\n  font-size: 20px;\r\n  cursor: pointer; /* 添加指针样式以提示可点击 */\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1a4e3ef4&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=a2d72c20&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"app-wrapper\">\r\n    <el-container>\r\n      <el-aside width=\"isCollapse ? '65px' : '200px'\" class=\"sidebar-container\"><Menu/></el-aside>\r\n      <el-container>\r\n        <el-header><Header/></el-header>\r\n        <el-main><router-view/></el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport Menu from '@/layout/menu'\r\nimport Header from '@/layout/header'\r\nimport Footer from '@/layout/footer'\r\nimport Tabs from '@/layout/tabs'\r\nimport {onMounted} from \"vue\";\r\nimport router from \"@/router\";\r\nimport cookieUtil from \"@/util/cookie\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nonMounted(()=> {\r\n  console.log(cookieUtil.getCookie(\"ifLogin\"));\r\n  // console.log(cookieUtil.getCookie(\"ifLogin\") === \"false\");\r\n  if(cookieUtil.getCookie(\"ifLogin\") === \"false\"){\r\n    console.log(cookieUtil.getCookie(\"ifLogin\"));\r\n    ElMessage({\r\n      message: \"请先登录！\",\r\n      type: \"warning\"\r\n    });\r\n    router.push('/login');\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.app-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.sidebar-container {\r\n  background-color: #2d3a4b;\r\n  height: 100%;\r\n}\r\n\r\n.el-container{\r\n  height:100%\r\n}\r\n\r\n.el-header{\r\n  padding-left: 0px;\r\n  padding-right: 0px;\r\n  height: 60px;\r\n}\r\n.el-main {\r\n  position: relative;\r\n  padding-top: 30px;\r\n  padding-bottom: 0px;\r\n}\r\n\r\n:deep(ul.el-menu){\r\n  border-right-width: 0px\r\n}\r\n\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b173102c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b173102c\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","setCookie","name","value","days","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","cookieName","decodedCookie","decodeURIComponent","cookieArray","split","i","length","charAt","substring","indexOf","deleteCookie","getCookieNum","async","createMessage","send","receive","title","body","requestUtil","getUnreadMessageNumber","rec","console","log","data","isCollapse","ref","unreadMessageNumber","collapseItem","updateUnreadMessagesNumber","messageUtil","cookieUtil","onMounted","__exports__","input","router","useRouter","user","avatarUrl","userInfo","ElMessage","message","type","setTimeout","push","res","userId","dialogVisible","goHome","quit","rememberMe","e","error"],"sourceRoot":""}