{"version":3,"file":"js/476.3d1a79f4.js","mappings":"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","sources":["webpack://vue/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue/./src/views/sidentify.vue","webpack://vue/./src/views/sidentify.vue?854a","webpack://vue/./src/views/Register.vue","webpack://vue/./src/views/Register.vue?157d"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SIdentity',\r\n  props: {\r\n    identifyCode: {\r\n      type: String,\r\n      default: '1234'\r\n    },\r\n    fontSizeMin: {\r\n      type: Number,\r\n      default: 25\r\n    },\r\n    fontSizeMax: {\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    backgroundColorMin: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    backgroundColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    colorMin: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    colorMax: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    lineColorMin: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    lineColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    dotColorMin: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dotColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    contentWidth: {\r\n      type: Number,\r\n      default: 112\r\n    },\r\n    contentHeight: {\r\n      type: Number,\r\n      default: 31\r\n    }\r\n  },\r\n  methods: {\r\n    // 生成一个随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 生成一个随机的颜色\r\n    randomColor(min, max) {\r\n      let r = this.randomNum(min, max)\r\n      let g = this.randomNum(min, max)\r\n      let b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n    drawPic() {\r\n      let canvas = document.getElementById('s-canvas')\r\n      let ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      var deg = this.randomNum(-45, 45)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n    drawLine(ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 5; i++) {\r\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    },\r\n    drawDot(ctx) {\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 80; i++) {\r\n        ctx.fillStyle = this.randomColor(0, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.s-canvas {\r\n  height: 38px;\r\n\r\n}\r\n.s-canvas canvas{\r\n  margin-top: 1px;\r\n  margin-left: 8px;\r\n}\r\n</style>","import { render } from \"./sidentify.vue?vue&type=template&id=364d9879&scoped=true\"\nimport script from \"./sidentify.vue?vue&type=script&lang=js\"\nexport * from \"./sidentify.vue?vue&type=script&lang=js\"\n\nimport \"./sidentify.vue?vue&type=style&index=0&id=364d9879&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-364d9879\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"register-page\">\r\n    <div class=\"background-image\"></div>\r\n    <div class=\"register-container\">\r\n      <span class=\"register\">注册</span>\r\n      <div class=\"component\">\r\n        <span class=\"demonstration\">请输入昵称</span>\r\n        <el-input v-model=\"userName\" placeholder=\"请输入昵称\" style=\"width: 50%; height: 40px;padding-left: 5%\" :prefix-icon=\"User\" clearable=\"true\"></el-input>\r\n\r\n      </div>\r\n      <div class=\"component\">\r\n        <span class=\"demonstration\">请输入密码</span>\r\n        <el-input v-model=\"password\"\r\n                  placeholder=\"6-20位，需包含数字、特殊字符、字母中至少两种\"\r\n                  style=\"width: 50%; height: 40px; padding-left: 5%\"\r\n                  :prefix-icon=\"User\"\r\n                  type=\"password\"\r\n                  show-password=\"true\"/>\r\n      </div>\r\n      <div class=\"component\">\r\n        <span class=\"demonstration\">请重新输入</span>\r\n        <el-input v-model=\"confirm\"\r\n                  placeholder=\"请再次输入密码\"\r\n                  style=\"width: 50%; height: 40px; padding-left: 5%\"\r\n                  :prefix-icon=\"User\"\r\n                  type=\"password\"\r\n                  show-password=\"true\"/>\r\n      </div>\r\n      <div class=\"component\" style=\"display: flex; align-items: center; margin-left: 20%\">\r\n        <span class=\"demonstration\">请输入验证码</span>\r\n        <el-input v-model=\"code\"\r\n                  placeholder=\"请输入验证码\"\r\n                  style=\"width: 30%; height: 40px; padding-left: 5%\"\r\n                  :prefix-icon=\"User\"\r\n                  type=\"password\"\r\n                  show-password=\"true\"/>\r\n        <div class=\"login-code\" @click=\"refreshCode\" style=\"margin-left: 10px;\">\r\n          <!--验证码组件-->\r\n          <s-identify :identifyCode=\"identifyCode\"></s-identify>\r\n        </div>\r\n      </div>\r\n      <div class=\"component\" style=\"display: flex; justify-content: center;\">\r\n        <el-button type=\"primary\"  class=\"register-container-button\"  @click=\"register\">注册</el-button>\r\n        <el-button type=\"primary\"  class=\"register-container-button\"  @click=\"router.push('/login')\">返回登录页面</el-button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { User } from '@element-plus/icons-vue'\r\nimport SIdentify from \"@/views/sidentify.vue\";\r\nimport {onMounted, ref} from \"vue\";\r\nimport router from \"@/router\";\r\nimport * as requestUtil from \"@/util/request\";\r\nconst userName = ref('');\r\nconst password = ref('')\r\nconst confirm = ref('')\r\nconst verify = ref('')\r\nconst identifyCodes = '1234567890';\r\nconst identifyCode = ref('');\r\nconst code = ref('');\r\nconst tableData = ref([]);\r\n\r\nconst randomNum = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min) + min);\r\n};\r\n\r\nconst refreshCode = () => {\r\n  identifyCode.value = '';\r\n  makeCode(identifyCodes, 4);\r\n};\r\n\r\nconst makeCode = (o, l) => {\r\n  for (let i = 0; i < l; i++) {\r\n    identifyCode.value += identifyCodes[randomNum(0, identifyCodes.length)];\r\n  }\r\n  console.log(\"验证码\", identifyCode.value);\r\n};\r\n\r\nconst checkCaptcha = () => {\r\n  if (code.value === \"\") {\r\n    alert(\"请输入验证码\");\r\n    return false;\r\n  }\r\n  if (identifyCode.value !== code.value) {\r\n    code.value = '';\r\n    refreshCode();\r\n    alert(\"请输入正确的验证码\");\r\n    return false;\r\n  }\r\n  console.log(\"验证码正确\");\r\n  return true;\r\n};\r\n\r\nonMounted(() => {\r\n  identifyCode.value = '';\r\n  makeCode(identifyCodes, 4);\r\n});\r\nconst register = async() => {\r\n  if(userName.value.length <= 1){\r\n    alert(\"请输入昵称\");\r\n    return false;\r\n  }\r\n  if(password.value.length <= 1){\r\n    alert(\"请输入密码\");\r\n    return false;\r\n  }\r\n  if(password.value !== confirm.value){\r\n    alert(\"两次输入不一致！\")\r\n    return false;\r\n  }\r\n  if(checkCaptcha() === false) {\r\n    return false;\r\n  }\r\n  const param = {\r\n    \"userName\": userName.value,\r\n    \"password\": password.value,\r\n    \"age\": \"1\"\r\n  };\r\n  try {\r\n    await requestUtil.post('/user/create', param).then(res=>{alert(\"注册成功！\"); router.push('/login')});\r\n  }catch (e){\r\n    console.error(e);\r\n  }\r\n  return true;\r\n}\r\n</script>\r\n\r\n<style>\r\n.register-page {\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n}\r\n\r\n.background-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: url('../assets/images/login/login.png'); /* 替换为您的背景图片路径 */\r\n  background-size: cover;\r\n  opacity: 1; /* 背景图片透明度 */\r\n}\r\n\r\n.register-container {\r\n  position: relative;\r\n  width: 40%;\r\n  height: 40%;\r\n  padding: 20px;\r\n  background-color: rgba(255, 255, 255, 0.8); /* 设置登录框背景色及透明度 */\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* 设置登录框阴影效果 */\r\n  z-index: 999;\r\n  text-align: center;\r\n  font-size: 30px;\r\n  flex-direction: column;\r\n}\r\n.register {\r\n  font-size: 25px;\r\n}\r\n.register-container-button {\r\n  width: 70%;\r\n  padding: 10px;\r\n  background-color: #007bff; /* 按钮背景颜色 */\r\n  color: #fff; /* 按钮文字颜色 */\r\n  border: none;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  display: flex;\r\n}\r\n.component {\r\n  margin-bottom: 20px; /* 设置组件之间的垂直间距为20px */\r\n  margin-top: 20px;\r\n}\r\n.demonstration {\r\n  color: var(--el-text-color-secondary);\r\n  font-size: small;\r\n}\r\n</style>","import script from \"./Register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Register.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=377453cd&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","class","_createElementBlock","_hoisted_1","_createElementVNode","id","width","$props","contentWidth","height","contentHeight","_hoisted_2","name","identifyCode","type","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","methods","randomNum","min","max","Math","floor","random","randomColor","r","this","g","b","drawPic","canvas","document","getElementById","ctx","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted","__exports__","render","identifyCodes","userName","ref","password","confirm","code","refreshCode","value","makeCode","o","l","console","log","checkCaptcha","alert","onMounted","register","async","param","requestUtil","then","res","router","push","e","error"],"sourceRoot":""}